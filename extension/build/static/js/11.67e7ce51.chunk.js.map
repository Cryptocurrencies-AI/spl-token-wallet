{"version":3,"sources":["../node_modules/clipboard-copy/index.js","../node_modules/@material-ui/core/esm/Link/Link.js","../node_modules/@material-ui/icons/Warning.js","../node_modules/@material-ui/core/esm/Card/Card.js","../node_modules/@material-ui/core/esm/CardContent/CardContent.js","images/importExportIcon.svg","../node_modules/@material-ui/system/esm/css.js","../node_modules/@material-ui/system/esm/compose.js","../node_modules/@material-ui/system/esm/style.js","../node_modules/@material-ui/system/esm/borders.js","../node_modules/@material-ui/system/esm/display.js","../node_modules/@material-ui/system/esm/flexbox.js","../node_modules/@material-ui/system/esm/grid.js","../node_modules/@material-ui/system/esm/positions.js","../node_modules/@material-ui/system/esm/palette.js","../node_modules/@material-ui/system/esm/shadows.js","../node_modules/@material-ui/system/esm/sizing.js","../node_modules/@material-ui/system/esm/typography.js","../node_modules/@material-ui/core/esm/Box/Box.js","utils/transactions.js","components/instructions/LabelValue.js","components/instructions/NewOrder.js","components/instructions/UnknownInstruction.js","components/instructions/SystemInstruction.js","components/instructions/DexInstruction.js","components/instructions/TokenInstruction.js","pages/ConnectPopup/SignTransactionFormContent.tsx","pages/ConnectPopup/SignFormContent.tsx","pages/ConnectPopup/PopupPage.tsx","routes/ConnectPopup.tsx"],"names":["makeError","DOMException","copyClipboardApi","text","navigator","clipboard","writeText","copyExecCommand","span","document","createElement","textContent","style","whiteSpace","webkitUserSelect","userSelect","body","appendChild","selection","window","getSelection","range","createRange","removeAllRanges","selectNode","addRange","success","execCommand","removeChild","module","exports","Link","React","props","ref","classes","className","_props$color","color","_props$component","component","onBlur","onFocus","TypographyClasses","_props$underline","underline","_props$variant","variant","other","_objectWithoutProperties","_useIsFocusVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","focusVisibleRef","_React$useState","focusVisible","setFocusVisible","handlerRef","useForkRef","Typography","_extends","clsx","root","concat","capitalize","button","event","withStyles","underlineNone","textDecoration","underlineHover","underlineAlways","position","WebkitTapHighlightColor","backgroundColor","outline","border","margin","borderRadius","padding","cursor","verticalAlign","borderStyle","name","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","value","default","_default","d","Card","_props$raised","raised","Paper","elevation","overflow","CardContent","Component","paddingBottom","css","styleFunction","newStyleFunction","output","merge","theme","input","fields","keys","forEach","prop","indexOf","omit","filterProps","propTypes","_toConsumableArray","compose","_len","arguments","length","styles","Array","_key","fn","reduce","acc","getPath","obj","path","split","item","options","_options$cssProperty","cssProperty","themeKey","transform","propValue","themeMapping","handleBreakpoints","propValueFinal","isArray","_defineProperty","getBorder","borders","display","flexbox","grid","palette","boxShadow","width","maxWidth","minWidth","height","maxHeight","minHeight","sizing","typography","positions","shadows","spacing","Box","styled","RAYDIUM_STAKE_PROGRAM_ID","PublicKey","RAYDIUM_LP_PROGRAM_ID","marketCache","marketCacheConnection","decodeMessage","connection","wallet","message","a","transactionMessage","Message","from","instructions","accountKeys","publicKey","i","transactionInstruction","toInstruction","instruction","push","rawData","data","index","accounts","programIdIndex","decoded","bs58","decode","programId","getAccountByIndex","equals","SystemProgram","console","log","handleSystemInstruction","TOKEN_PROGRAM_ID","decodedInstruction","decodeTokenInstruction","handleTokenInstruction","MARKETS","some","market","decodeInstruction","handleDexInstruction","decodeStakeInstruction","handleRayStakeInstruction","decodeLpInstruction","handleRayLpInstruction","JSON","stringify","type","marketInfo","find","findIndex","accountKey","address","marketAddress","programIdAddress","strAddress","toBase58","now","Date","getTime","ts","Market","load","settleFundsData","getSettleFundsData","newOrderData","getNewOrderData","getNewOrderV3Data","bufferData","decodeTokenInstructionData","initializeAccount","closeAccount","systemInstruction","map","accountIndex","pubkey","SystemInstruction","decodeInstructionType","decodeCreateAccount","decodeCreateWithSeed","decodeAllocate","decodeAllocateWithSeed","decodeAssign","decodeAssignWithSeed","decodeTransfer","decodeNonceAdvance","decodeNonceWithdraw","decodeNonceInitialize","decodeNonceAuthorize","fromPubkey","initializeAccountData","getInitializeAccountData","transferData","getTransferData","closeAccountData","getCloseAccountData","openOrdersPubkey","NEW_ORDER_OPEN_ORDERS_INDEX","ownerPubkey","NEW_ORDER_OWNER_INDEX","NEW_ORDER_V3_OPEN_ORDERS_INDEX","NEW_ORDER_V3_OWNER_INDEX","basePubkey","SETTLE_FUNDS_BASE_WALLET_INDEX","quotePubkey","SETTLE_FUNDS_QUOTE_WALLET_INDEX","sourcePubkey","TokenInstructions","TRANSFER_SOURCE_INDEX","destinationPubkey","TRANSFER_DESTINATION_INDEX","TRANSFER_OWNER_INDEX","accountPubkey","INITIALIZE_ACCOUNT_ACCOUNT_INDEX","mintPubkey","INITIALIZE_ACCOUNT_MINT_INDEX","INITIALIZE_ACCOUNT_OWNER_INDEX","LabelValue","label","link","onClick","useTheme","fontSize","textAlign","customPalette","blue","serum","href","Neworder","onOpenAddress","v3","useWallet","marketLabel","deprecated","_decoded","ownAddress","side","limitPrice","orderType","maxQuantity","maxBaseQuantity","fontWeight","gutterBottom","charAt","toUpperCase","slice","priceLotsToNumber","baseSizeLotsToNumber","UnknownInstruction","accountMetas","accountMeta","isWritable","toString","wordBreak","TYPE_LABELS","systemCreate","systemTransfer","DATA_LABELS","toPubkey","seed","noncePubkey","authorizedPubkey","newAuthorizedPubkey","newAccountPubkey","amount","lamports","entries","key","dataLabel","cancelOrder","newOrder","settleFunds","matchOrders","orderId","limit","DexInstruction","useWalletPublicKeys","publicKeys","getAddressValue","isOwned","ownedKey","initializeMint","transfer","approve","mintTo","TokenInstruction","tokenMint","TOKEN_MINTS","token","isOwner","isSafeInstruction","owner","txInstructions","unsafe","states","CREATED","OWNED","CLOSED_TO_OWNED_DESTINATION","accountStates","ownedAccountPubkey","includes","values","state","SignTransactionFormContent","origin","messages","onApprove","autoApprove","buttonRef","explorerUrlSuffix","useSolanaExplorerUrlSuffix","useConnection","useState","parsing","setParsing","setTxInstructions","isMultiTx","useEffect","Promise","all","m","then","validator","useMemo","safe","focus","currentButtonRef","current","scrollIntoView","behavior","setTimeout","open","getContent","alignItems","marginBottom","CircularProgress","marginRight","idx","encode","txIdx","ixs","marginTop","Divider","txListItem","SignFormContent","messageDisplay","messageTxt","buffer","TextDecoder","prototype","call","x","join","Error","Tooltip","title","arrow","renderAction","StyledCard","PopupPage","opener","selectedWallet","useWalletSelector","setWalletSelector","isExtension","setWallet","postMessage","useCallback","chrome","runtime","sendMessage","channel","jsonrpc","connectedAccount","setConnectedAccount","hasConnectedAccount","getInitialRequests","requests","setRequests","setAutoApprove","storage","local","get","result","connectedWallet","connectedWallets","selector","method","unloadHandler","addEventListener","removeEventListener","messageHandler","e","source","error","id","request","popRequest","close","focusParent","mustConnect","ApproveConnectionForm","account","set","params","undefined","assert","Uint8Array","sendSignature","sendAllSignatures","createSignature","signature","signatures","k","overflowY","ApproveSignatureForm","onReject","err","useStyles","makeStyles","approveButton","actions","justifyContent","divider","urlParams","URLSearchParams","location","hash","parse","to","justify","Logo","AccountsSelector","isFromPopup","accountNameSize","fontFamily","direction","alt","src","ImportExportIcon","checked","onChange","htmlFor","Attention","textStyle","iconStyle","useRef","ConnectPopupRoute","match","url"],"mappings":"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","file":"static/js/11.67e7ce51.chunk.js","sourcesContent":["/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* global DOMException */\n\nmodule.exports = clipboardCopy\n\nfunction makeError () {\n  return new DOMException('The request is not allowed', 'NotAllowedError')\n}\n\nasync function copyClipboardApi (text) {\n  // Use the Async Clipboard API when available. Requires a secure browsing\n  // context (i.e. HTTPS)\n  if (!navigator.clipboard) {\n    throw makeError()\n  }\n  return navigator.clipboard.writeText(text)\n}\n\nasync function copyExecCommand (text) {\n  // Put the text to copy into a <span>\n  const span = document.createElement('span')\n  span.textContent = text\n\n  // Preserve consecutive spaces and newlines\n  span.style.whiteSpace = 'pre'\n  span.style.webkitUserSelect = 'auto'\n  span.style.userSelect = 'all'\n\n  // Add the <span> to the page\n  document.body.appendChild(span)\n\n  // Make a selection object representing the range of text selected by the user\n  const selection = window.getSelection()\n  const range = window.document.createRange()\n  selection.removeAllRanges()\n  range.selectNode(span)\n  selection.addRange(range)\n\n  // Copy text to the clipboard\n  let success = false\n  try {\n    success = window.document.execCommand('copy')\n  } finally {\n    // Cleanup\n    selection.removeAllRanges()\n    window.document.body.removeChild(span)\n  }\n\n  if (!success) throw makeError()\n}\n\nasync function clipboardCopy (text) {\n  try {\n    await copyClipboardApi(text)\n  } catch (err) {\n    // ...Otherwise, use document.execCommand() fallback\n    try {\n      await copyExecCommand(text)\n    } catch (err2) {\n      throw (err2 || err || makeError())\n    }\n  }\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport capitalize from '../utils/capitalize';\nimport withStyles from '../styles/withStyles';\nimport { elementTypeAcceptingRef } from '@material-ui/utils';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport useForkRef from '../utils/useForkRef';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {},\n\n  /* Styles applied to the root element if `underline=\"none\"`. */\n  underlineNone: {\n    textDecoration: 'none'\n  },\n\n  /* Styles applied to the root element if `underline=\"hover\"`. */\n  underlineHover: {\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  },\n\n  /* Styles applied to the root element if `underline=\"always\"`. */\n  underlineAlways: {\n    textDecoration: 'underline'\n  },\n  // Same reset as ButtonBase.root\n\n  /* Styles applied to the root element if `component=\"button\"`. */\n  button: {\n    position: 'relative',\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    '-moz-appearance': 'none',\n    // Reset\n    '-webkit-appearance': 'none',\n    // Reset\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n\n    },\n    '&$focusVisible': {\n      outline: 'auto'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if the link is keyboard focused. */\n  focusVisible: {}\n};\nvar Link = /*#__PURE__*/React.forwardRef(function Link(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'a' : _props$component,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      TypographyClasses = props.TypographyClasses,\n      _props$underline = props.underline,\n      underline = _props$underline === void 0 ? 'hover' : _props$underline,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'inherit' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"onBlur\", \"onFocus\", \"TypographyClasses\", \"underline\", \"variant\"]);\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisible = _useIsFocusVisible.isFocusVisible,\n      onBlurVisible = _useIsFocusVisible.onBlurVisible,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  var _React$useState = React.useState(false),\n      focusVisible = _React$useState[0],\n      setFocusVisible = _React$useState[1];\n\n  var handlerRef = useForkRef(ref, focusVisibleRef);\n\n  var handleBlur = function handleBlur(event) {\n    if (focusVisible) {\n      onBlurVisible();\n      setFocusVisible(false);\n    }\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (isFocusVisible(event)) {\n      setFocusVisible(true);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Typography, _extends({\n    className: clsx(classes.root, classes[\"underline\".concat(capitalize(underline))], className, focusVisible && classes.focusVisible, component === 'button' && classes.button),\n    classes: TypographyClasses,\n    color: color,\n    component: component,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    ref: handlerRef,\n    variant: variant\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Link.propTypes = {\n  /**\n   * The content of the link.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the link.\n   */\n  color: PropTypes.oneOf(['initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * `classes` prop applied to the [`Typography`](/api/typography/) element.\n   */\n  TypographyClasses: PropTypes.object,\n\n  /**\n   * Controls when the link should have an underline.\n   */\n  underline: PropTypes.oneOf(['none', 'hover', 'always']),\n\n  /**\n   * Applies the theme typography styles.\n   */\n  variant: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiLink'\n})(Link);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   */\n  raised: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","export default __webpack_public_path__ + \"static/media/importExportIcon.49fb9a59.svg\";","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport PropTypes from 'prop-types';\nimport merge from './merge';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n}\n\nfunction css(styleFunction) {\n  var newStyleFunction = function newStyleFunction(props) {\n    var output = styleFunction(props);\n\n    if (props.css) {\n      return _extends({}, merge(output, styleFunction(_extends({\n        theme: props.theme\n      }, props.css))), omit(props.css, [styleFunction.filterProps]));\n    }\n\n    return output;\n  };\n\n  newStyleFunction.propTypes = process.env.NODE_ENV !== 'production' ? _extends({}, styleFunction.propTypes, {\n    css: PropTypes.object\n  }) : {};\n  newStyleFunction.filterProps = ['css'].concat(_toConsumableArray(styleFunction.filterProps));\n  return newStyleFunction;\n}\n\nexport default css;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport merge from './merge';\n\nfunction compose() {\n  for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n    styles[_key] = arguments[_key];\n  }\n\n  var fn = function fn(props) {\n    return styles.reduce(function (acc, style) {\n      var output = style(props);\n\n      if (output) {\n        return merge(acc, output);\n      }\n\n      return acc;\n    }, {});\n  }; // Alternative approach that doesn't yield any performance gain.\n  // const handlers = styles.reduce((acc, style) => {\n  //   style.filterProps.forEach(prop => {\n  //     acc[prop] = style;\n  //   });\n  //   return acc;\n  // }, {});\n  // const fn = props => {\n  //   return Object.keys(props).reduce((acc, prop) => {\n  //     if (handlers[prop]) {\n  //       return merge(acc, handlers[prop](props));\n  //     }\n  //     return acc;\n  //   }, {});\n  // };\n\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? styles.reduce(function (acc, style) {\n    return _extends(acc, style.propTypes);\n  }, {}) : {};\n  fn.filterProps = styles.reduce(function (acc, style) {\n    return acc.concat(style.filterProps);\n  }, []);\n  return fn;\n}\n\nexport default compose;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport responsivePropType from './responsivePropType';\nimport { handleBreakpoints } from './breakpoints';\n\nfunction getPath(obj, path) {\n  if (!path || typeof path !== 'string') {\n    return null;\n  }\n\n  return path.split('.').reduce(function (acc, item) {\n    return acc && acc[item] ? acc[item] : null;\n  }, obj);\n}\n\nfunction style(options) {\n  var prop = options.prop,\n      _options$cssProperty = options.cssProperty,\n      cssProperty = _options$cssProperty === void 0 ? options.prop : _options$cssProperty,\n      themeKey = options.themeKey,\n      transform = options.transform;\n\n  var fn = function fn(props) {\n    if (props[prop] == null) {\n      return null;\n    }\n\n    var propValue = props[prop];\n    var theme = props.theme;\n    var themeMapping = getPath(theme, themeKey) || {};\n\n    var styleFromPropValue = function styleFromPropValue(propValueFinal) {\n      var value;\n\n      if (typeof themeMapping === 'function') {\n        value = themeMapping(propValueFinal);\n      } else if (Array.isArray(themeMapping)) {\n        value = themeMapping[propValueFinal] || propValueFinal;\n      } else {\n        value = getPath(themeMapping, propValueFinal) || propValueFinal;\n\n        if (transform) {\n          value = transform(value);\n        }\n      }\n\n      if (cssProperty === false) {\n        return value;\n      }\n\n      return _defineProperty({}, cssProperty, value);\n    };\n\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  };\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? _defineProperty({}, prop, responsivePropType) : {};\n  fn.filterProps = [prop];\n  return fn;\n}\n\nexport default style;","import style from './style';\nimport compose from './compose';\n\nfunction getBorder(value) {\n  if (typeof value !== 'number') {\n    return value;\n  }\n\n  return \"\".concat(value, \"px solid\");\n}\n\nexport var border = style({\n  prop: 'border',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderTop = style({\n  prop: 'borderTop',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderRight = style({\n  prop: 'borderRight',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderBottom = style({\n  prop: 'borderBottom',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderLeft = style({\n  prop: 'borderLeft',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderColor = style({\n  prop: 'borderColor',\n  themeKey: 'palette'\n});\nexport var borderRadius = style({\n  prop: 'borderRadius',\n  themeKey: 'shape'\n});\nvar borders = compose(border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderRadius);\nexport default borders;","import style from './style';\nimport compose from './compose';\nexport var displayPrint = style({\n  prop: 'displayPrint',\n  cssProperty: false,\n  transform: function transform(value) {\n    return {\n      '@media print': {\n        display: value\n      }\n    };\n  }\n});\nexport var displayRaw = style({\n  prop: 'display'\n});\nexport var overflow = style({\n  prop: 'overflow'\n});\nexport var textOverflow = style({\n  prop: 'textOverflow'\n});\nexport var visibility = style({\n  prop: 'visibility'\n});\nexport var whiteSpace = style({\n  prop: 'whiteSpace'\n});\nexport default compose(displayPrint, displayRaw, overflow, textOverflow, visibility, whiteSpace);","import style from './style';\nimport compose from './compose';\nexport var flexBasis = style({\n  prop: 'flexBasis'\n});\nexport var flexDirection = style({\n  prop: 'flexDirection'\n});\nexport var flexWrap = style({\n  prop: 'flexWrap'\n});\nexport var justifyContent = style({\n  prop: 'justifyContent'\n});\nexport var alignItems = style({\n  prop: 'alignItems'\n});\nexport var alignContent = style({\n  prop: 'alignContent'\n});\nexport var order = style({\n  prop: 'order'\n});\nexport var flex = style({\n  prop: 'flex'\n});\nexport var flexGrow = style({\n  prop: 'flexGrow'\n});\nexport var flexShrink = style({\n  prop: 'flexShrink'\n});\nexport var alignSelf = style({\n  prop: 'alignSelf'\n});\nexport var justifyItems = style({\n  prop: 'justifyItems'\n});\nexport var justifySelf = style({\n  prop: 'justifySelf'\n});\nvar flexbox = compose(flexBasis, flexDirection, flexWrap, justifyContent, alignItems, alignContent, order, flex, flexGrow, flexShrink, alignSelf, justifyItems, justifySelf);\nexport default flexbox;","import style from './style';\nimport compose from './compose';\nexport var gridGap = style({\n  prop: 'gridGap'\n});\nexport var gridColumnGap = style({\n  prop: 'gridColumnGap'\n});\nexport var gridRowGap = style({\n  prop: 'gridRowGap'\n});\nexport var gridColumn = style({\n  prop: 'gridColumn'\n});\nexport var gridRow = style({\n  prop: 'gridRow'\n});\nexport var gridAutoFlow = style({\n  prop: 'gridAutoFlow'\n});\nexport var gridAutoColumns = style({\n  prop: 'gridAutoColumns'\n});\nexport var gridAutoRows = style({\n  prop: 'gridAutoRows'\n});\nexport var gridTemplateColumns = style({\n  prop: 'gridTemplateColumns'\n});\nexport var gridTemplateRows = style({\n  prop: 'gridTemplateRows'\n});\nexport var gridTemplateAreas = style({\n  prop: 'gridTemplateAreas'\n});\nexport var gridArea = style({\n  prop: 'gridArea'\n});\nvar grid = compose(gridGap, gridColumnGap, gridRowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea);\nexport default grid;","import style from './style';\nimport compose from './compose';\nexport var position = style({\n  prop: 'position'\n});\nexport var zIndex = style({\n  prop: 'zIndex',\n  themeKey: 'zIndex'\n});\nexport var top = style({\n  prop: 'top'\n});\nexport var right = style({\n  prop: 'right'\n});\nexport var bottom = style({\n  prop: 'bottom'\n});\nexport var left = style({\n  prop: 'left'\n});\nexport default compose(position, zIndex, top, right, bottom, left);","import style from './style';\nimport compose from './compose';\nexport var color = style({\n  prop: 'color',\n  themeKey: 'palette'\n});\nexport var bgcolor = style({\n  prop: 'bgcolor',\n  cssProperty: 'backgroundColor',\n  themeKey: 'palette'\n});\nvar palette = compose(color, bgcolor);\nexport default palette;","import style from './style';\nvar boxShadow = style({\n  prop: 'boxShadow',\n  themeKey: 'shadows'\n});\nexport default boxShadow;","import style from './style';\nimport compose from './compose';\n\nfunction transform(value) {\n  return value <= 1 ? \"\".concat(value * 100, \"%\") : value;\n}\n\nexport var width = style({\n  prop: 'width',\n  transform: transform\n});\nexport var maxWidth = style({\n  prop: 'maxWidth',\n  transform: transform\n});\nexport var minWidth = style({\n  prop: 'minWidth',\n  transform: transform\n});\nexport var height = style({\n  prop: 'height',\n  transform: transform\n});\nexport var maxHeight = style({\n  prop: 'maxHeight',\n  transform: transform\n});\nexport var minHeight = style({\n  prop: 'minHeight',\n  transform: transform\n});\nexport var sizeWidth = style({\n  prop: 'size',\n  cssProperty: 'width',\n  transform: transform\n});\nexport var sizeHeight = style({\n  prop: 'size',\n  cssProperty: 'height',\n  transform: transform\n});\nexport var boxSizing = style({\n  prop: 'boxSizing'\n});\nvar sizing = compose(width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing);\nexport default sizing;","import style from './style';\nimport compose from './compose';\nexport var fontFamily = style({\n  prop: 'fontFamily',\n  themeKey: 'typography'\n});\nexport var fontSize = style({\n  prop: 'fontSize',\n  themeKey: 'typography'\n});\nexport var fontStyle = style({\n  prop: 'fontStyle',\n  themeKey: 'typography'\n});\nexport var fontWeight = style({\n  prop: 'fontWeight',\n  themeKey: 'typography'\n});\nexport var letterSpacing = style({\n  prop: 'letterSpacing'\n});\nexport var lineHeight = style({\n  prop: 'lineHeight'\n});\nexport var textAlign = style({\n  prop: 'textAlign'\n});\nvar typography = compose(fontFamily, fontSize, fontStyle, fontWeight, letterSpacing, lineHeight, textAlign);\nexport default typography;","import { borders, compose, display, flexbox, grid, palette, positions, shadows, sizing, spacing, typography, css } from '@material-ui/system';\nimport styled from '../styles/styled';\nexport var styleFunction = css(compose(borders, display, flexbox, grid, positions, palette, shadows, sizing, spacing, typography));\n/**\n * @ignore - do not document.\n */\n\nvar Box = styled('div')(styleFunction, {\n  name: 'MuiBox'\n});\nexport default Box;","import bs58 from 'bs58';\nimport { Message, SystemInstruction, SystemProgram } from '@solana/web3.js';\nimport {\n  decodeInstruction,\n  decodeTokenInstructionData,\n  Market,\n  MARKETS,\n  TokenInstructions,\n  SETTLE_FUNDS_BASE_WALLET_INDEX,\n  SETTLE_FUNDS_QUOTE_WALLET_INDEX,\n  NEW_ORDER_OPEN_ORDERS_INDEX,\n  NEW_ORDER_OWNER_INDEX,\n  NEW_ORDER_V3_OPEN_ORDERS_INDEX,\n  NEW_ORDER_V3_OWNER_INDEX,\n} from '@project-serum/serum';\nimport { PublicKey } from '@solana/web3.js';\nimport { TOKEN_PROGRAM_ID } from './tokens/instructions';\n\nconst RAYDIUM_STAKE_PROGRAM_ID = new PublicKey(\n  'EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q',\n);\nconst RAYDIUM_LP_PROGRAM_ID = new PublicKey(\n  'RVKd61ztZW9GUwhRbbLoYVRE5Xf1B2tVscKqwZqXgEr',\n);\n\nconst marketCache = {};\nlet marketCacheConnection = null;\nconst cacheDuration = 15 * 1000;\n\nexport const decodeMessage = async (connection, wallet, message) => {\n  // get message object\n  const transactionMessage = Message.from(message);\n  if (!transactionMessage?.instructions || !transactionMessage?.accountKeys) {\n    return;\n  }\n\n  // get owned keys (used for security checks)\n  const publicKey = wallet.publicKey;\n\n  // get instructions\n  const instructions = [];\n  for (var i = 0; i < transactionMessage.instructions.length; i++) {\n    let transactionInstruction = transactionMessage.instructions[i];\n    const instruction = await toInstruction(\n      connection,\n      publicKey,\n      transactionMessage?.accountKeys,\n      transactionInstruction,\n      i,\n    );\n    instructions.push({\n      ...instruction,\n      rawData: transactionInstruction?.data,\n    });\n  }\n  return instructions;\n};\n\nconst toInstruction = async (\n  connection,\n  publicKey,\n  accountKeys,\n  instruction,\n  index,\n) => {\n  if (\n    !instruction?.data ||\n    !instruction?.accounts ||\n    !instruction?.programIdIndex\n  ) {\n    return;\n  }\n\n  // get instruction data\n  const decoded = bs58.decode(instruction.data);\n\n  const programId = getAccountByIndex(\n    [instruction.programIdIndex],\n    accountKeys,\n    0,\n  );\n  if (!programId) {\n    return null;\n  }\n\n  try {\n    if (programId.equals(SystemProgram.programId)) {\n      console.log('[' + index + '] Handled as system instruction');\n      return handleSystemInstruction(publicKey, instruction, accountKeys);\n    } else if (programId.equals(TOKEN_PROGRAM_ID)) {\n      console.log('[' + index + '] Handled as token instruction');\n      let decodedInstruction = decodeTokenInstruction(decoded);\n      return handleTokenInstruction(\n        publicKey,\n        instruction.accounts,\n        decodedInstruction,\n        accountKeys,\n      );\n    } else if (\n      MARKETS.some(\n        (market) => market.programId && market.programId.equals(programId),\n      )\n    ) {\n      console.log('[' + index + '] Handled as dex instruction');\n      let decodedInstruction = decodeInstruction(decoded);\n      return await handleDexInstruction(\n        connection,\n        instruction,\n        accountKeys,\n        decodedInstruction,\n      );\n    } else if (programId.equals(RAYDIUM_STAKE_PROGRAM_ID)) {\n      console.log('[' + index + '] Handled as raydium stake instruction');\n      const decodedInstruction = decodeStakeInstruction(decoded);\n      return await handleRayStakeInstruction(\n        connection,\n        instruction,\n        accountKeys,\n        decodedInstruction,\n      );\n    } else if (programId.equals(RAYDIUM_LP_PROGRAM_ID)) {\n      console.log('[' + index + '] Handled as raydium lp instruction');\n      const decodedInstruction = decodeLpInstruction(decoded);\n      return await handleRayLpInstruction(\n        connection,\n        instruction,\n        accountKeys,\n        decodedInstruction,\n      );\n    }\n  } catch {}\n\n  // all decodings failed\n  console.log('[' + index + '] Failed, data: ' + JSON.stringify(decoded));\n\n  return;\n};\n\nconst handleRayStakeInstruction = async (\n  connection,\n  instruction,\n  accountKeys,\n  decodedInstruction,\n) => {\n  // TODO\n  return {\n    type: 'raydium',\n  };\n};\n\nconst handleRayLpInstruction = async (\n  connection,\n  instruction,\n  accountKeys,\n  decodedInstruction,\n) => {\n  // TODO\n  return {\n    type: 'raydium',\n  };\n};\n\nconst decodeStakeInstruction = () => {\n  // TODO\n  return undefined;\n};\n\nconst decodeLpInstruction = () => {\n  // TODO\n  return undefined;\n};\n\nconst handleDexInstruction = async (\n  connection,\n  instruction,\n  accountKeys,\n  decodedInstruction,\n) => {\n  if (!decodedInstruction || Object.keys(decodedInstruction).length > 1) {\n    return;\n  }\n\n  const { accounts, programIdIndex } = instruction;\n\n  // get market info\n  const marketInfo =\n    accountKeys &&\n    MARKETS.find(\n      (market) =>\n        accountKeys.findIndex((accountKey) =>\n          accountKey.equals(market.address),\n        ) > -1,\n    );\n\n  // get market\n  let market, programIdAddress;\n  try {\n    const marketAddress =\n      marketInfo?.address || getAccountByIndex(accounts, accountKeys, 0);\n    programIdAddress =\n      marketInfo?.programId ||\n      getAccountByIndex([programIdIndex], accountKeys, 0);\n    const strAddress = marketAddress.toBase58();\n    const now = new Date().getTime();\n    if (\n      !(\n        connection === marketCacheConnection &&\n        strAddress in marketCache &&\n        now - marketCache[strAddress].ts < cacheDuration\n      )\n    ) {\n      marketCacheConnection = connection;\n      console.log('Loading market', strAddress);\n      marketCache[strAddress] = {\n        market: await Market.load(\n          connection,\n          marketAddress,\n          {},\n          programIdAddress,\n        ),\n        ts: now,\n      };\n    }\n    market = marketCache[strAddress].market;\n  } catch (e) {\n    console.log('Error loading market: ' + e.message);\n  }\n\n  // get data\n  const type = Object.keys(decodedInstruction)[0];\n  let data = decodedInstruction[type];\n  if (type === 'settleFunds') {\n    const settleFundsData = getSettleFundsData(accounts, accountKeys);\n    if (!settleFundsData) {\n      return;\n    } else {\n      data = { ...data, ...settleFundsData };\n    }\n  } else if (type === 'newOrder') {\n    const newOrderData = getNewOrderData(accounts, accountKeys);\n    data = { ...data, ...newOrderData };\n  } else if (type === 'newOrderV3') {\n    const newOrderData = getNewOrderV3Data(accounts, accountKeys);\n    data = { ...data, ...newOrderData };\n  }\n  return {\n    type,\n    data,\n    market,\n    marketInfo,\n  };\n};\n\nconst decodeTokenInstruction = (bufferData) => {\n  if (!bufferData) {\n    return;\n  }\n\n  if (bufferData.length === 1) {\n    if (bufferData[0] === 1) {\n      return { initializeAccount: {} };\n    } else if (bufferData[0] === 9) {\n      return { closeAccount: {} };\n    }\n  } else {\n    return decodeTokenInstructionData(bufferData);\n  }\n};\n\nconst handleSystemInstruction = (publicKey, instruction, accountKeys) => {\n  const { programIdIndex, accounts, data } = instruction;\n  if (!programIdIndex || !accounts || !data) {\n    return;\n  }\n\n  // construct system instruction\n  const systemInstruction = {\n    programId: accountKeys[programIdIndex],\n    keys: accounts.map((accountIndex) => ({\n      pubkey: accountKeys[accountIndex],\n    })),\n    data: bs58.decode(data),\n  };\n\n  // get layout\n  let decoded;\n  const type = SystemInstruction.decodeInstructionType(systemInstruction);\n  switch (type) {\n    case 'Create':\n      decoded = SystemInstruction.decodeCreateAccount(systemInstruction);\n      break;\n    case 'CreateWithSeed':\n      decoded = SystemInstruction.decodeCreateWithSeed(systemInstruction);\n      break;\n    case 'Allocate':\n      decoded = SystemInstruction.decodeAllocate(systemInstruction);\n      break;\n    case 'AllocateWithSeed':\n      decoded = SystemInstruction.decodeAllocateWithSeed(systemInstruction);\n      break;\n    case 'Assign':\n      decoded = SystemInstruction.decodeAssign(systemInstruction);\n      break;\n    case 'AssignWithSeed':\n      decoded = SystemInstruction.decodeAssignWithSeed(systemInstruction);\n      break;\n    case 'Transfer':\n      decoded = SystemInstruction.decodeTransfer(systemInstruction);\n      break;\n    case 'AdvanceNonceAccount':\n      decoded = SystemInstruction.decodeNonceAdvance(systemInstruction);\n      break;\n    case 'WithdrawNonceAccount':\n      decoded = SystemInstruction.decodeNonceWithdraw(systemInstruction);\n      break;\n    case 'InitializeNonceAccount':\n      decoded = SystemInstruction.decodeNonceInitialize(systemInstruction);\n      break;\n    case 'AuthorizeNonceAccount':\n      decoded = SystemInstruction.decodeNonceAuthorize(systemInstruction);\n      break;\n    default:\n      return;\n  }\n\n  if (\n    !decoded ||\n    (decoded.fromPubkey && !publicKey.equals(decoded.fromPubkey))\n  ) {\n    return;\n  }\n\n  return {\n    type: 'system' + type,\n    data: decoded,\n  };\n};\n\nconst handleTokenInstruction = (\n  publicKey,\n  accounts,\n  decodedInstruction,\n  accountKeys,\n) => {\n  if (!decodedInstruction || Object.keys(decodedInstruction).length > 1) {\n    return;\n  }\n\n  // get data\n  const type = Object.keys(decodedInstruction)[0];\n  let data = decodedInstruction[type];\n  if (type === 'initializeAccount') {\n    const initializeAccountData = getInitializeAccountData(\n      publicKey,\n      accounts,\n      accountKeys,\n    );\n    data = { ...data, ...initializeAccountData };\n  } else if (type === 'transfer') {\n    const transferData = getTransferData(publicKey, accounts, accountKeys);\n    data = { ...data, ...transferData };\n  } else if (type === 'closeAccount') {\n    const closeAccountData = getCloseAccountData(\n      publicKey,\n      accounts,\n      accountKeys,\n    );\n    data = { ...data, ...closeAccountData };\n  }\n\n  return {\n    type,\n    data,\n  };\n};\n\nconst getNewOrderData = (accounts, accountKeys) => {\n  const openOrdersPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    NEW_ORDER_OPEN_ORDERS_INDEX,\n  );\n  const ownerPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    NEW_ORDER_OWNER_INDEX,\n  );\n  return { openOrdersPubkey, ownerPubkey };\n};\n\nconst getNewOrderV3Data = (accounts, accountKeys) => {\n  const openOrdersPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    NEW_ORDER_V3_OPEN_ORDERS_INDEX,\n  );\n  const ownerPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    NEW_ORDER_V3_OWNER_INDEX,\n  );\n  return { openOrdersPubkey, ownerPubkey };\n}\n\nconst getSettleFundsData = (accounts, accountKeys) => {\n  const basePubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    SETTLE_FUNDS_BASE_WALLET_INDEX,\n  );\n\n  const quotePubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    SETTLE_FUNDS_QUOTE_WALLET_INDEX,\n  );\n\n  if (!basePubkey || !quotePubkey) {\n    return;\n  }\n\n  return { basePubkey, quotePubkey };\n};\n\nconst getTransferData = (publicKey, accounts, accountKeys) => {\n  const sourcePubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.TRANSFER_SOURCE_INDEX,\n  );\n\n  const destinationPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.TRANSFER_DESTINATION_INDEX,\n  );\n\n  const ownerPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.TRANSFER_OWNER_INDEX,\n  );\n\n  if (!ownerPubkey || !publicKey.equals(ownerPubkey)) {\n    return;\n  }\n\n  return { sourcePubkey, destinationPubkey, ownerPubkey };\n};\n\nconst getInitializeAccountData = (publicKey, accounts, accountKeys) => {\n  const accountPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.INITIALIZE_ACCOUNT_ACCOUNT_INDEX,\n  );\n\n  const mintPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.INITIALIZE_ACCOUNT_MINT_INDEX,\n  );\n\n  const ownerPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.INITIALIZE_ACCOUNT_OWNER_INDEX,\n  );\n\n  if (!ownerPubkey || !publicKey.equals(ownerPubkey)) {\n    return;\n  }\n\n  return { accountPubkey, mintPubkey, ownerPubkey };\n};\n\nconst getCloseAccountData = (publicKey, accounts, accountKeys) => {\n  const sourcePubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.TRANSFER_SOURCE_INDEX,\n  );\n\n  const destinationPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.TRANSFER_DESTINATION_INDEX,\n  );\n\n  const ownerPubkey = getAccountByIndex(\n    accounts,\n    accountKeys,\n    TokenInstructions.TRANSFER_OWNER_INDEX,\n  );\n\n  if (!ownerPubkey || !publicKey.equals(ownerPubkey)) {\n    return;\n  }\n\n  return { sourcePubkey, destinationPubkey, ownerPubkey };\n};\n\nconst getAccountByIndex = (accounts, accountKeys, accountIndex) => {\n  const index = accounts.length > accountIndex && accounts[accountIndex];\n  return accountKeys?.length > index && accountKeys[index];\n};\n","import React from 'react';\nimport Link from '@material-ui/core/Link';\nimport { Title } from '../../pages/commonStyles';\nimport { useTheme } from '@material-ui/core';\n\nexport default function LabelValue({ label, value, link = false, onClick }) {\n  const theme = useTheme()\n\n  return (\n    <Title fontSize=\"1.6rem\" style={{ display: 'block', textAlign: 'left' }}>\n      {label}:{' '}\n      {link ? (\n        <Link style={{ fontSize: '1.6rem', color: theme.customPalette.blue.serum }} href=\"#\" onClick={onClick}>\n          {value}\n        </Link>\n      ) : (\n        <Title style={{ color: '#7B7B7B' }}>{value}</Title>\n      )}\n    </Title>\n  );\n}\n","import React from 'react';\nimport LabelValue from './LabelValue';\nimport { useWallet } from '../../utils/wallet';\nimport { Title } from '../../pages/commonStyles';\n\nexport default function Neworder({ instruction, onOpenAddress, v3=false }) {\n  const wallet = useWallet();\n  const { data, market, marketInfo } = instruction;\n  const marketLabel =\n    (marketInfo &&\n      marketInfo?.name + (marketInfo?.deprecated ? ' (deprecated)' : '')) ||\n    market?._decoded?.ownAddress?.toBase58() ||\n    'Unknown';\n\n  const getAddressValue = (address) => {\n    const isOwner = wallet.publicKey.equals(address);\n    return isOwner ? 'This wallet' : address?.toBase58() || 'Unknown';\n  };\n\n  const { side, limitPrice, orderType, ownerPubkey } = data;\n  const maxQuantity = v3 ? data.maxBaseQuantity : data.maxQuantity;\n  return (\n    <>\n      <Title\n        variant=\"subtitle1\"\n        style={{ fontWeight: 'bold', fontSize: '1.6rem' }}\n        gutterBottom\n      >\n        Place an order\n      </Title>\n      <LabelValue\n        label=\"Market\"\n        value={marketLabel}\n        link={true}\n        onClick={() =>\n          onOpenAddress(\n            (marketInfo?.address || market?._decoded?.ownAddress)?.toBase58(),\n          )\n        }\n      />\n      <LabelValue\n        label=\"Side\"\n        value={side.charAt(0).toUpperCase() + side.slice(1)}\n      />\n      <LabelValue\n        label=\"Price\"\n        value={market?.priceLotsToNumber(limitPrice) || '' + limitPrice}\n      />\n      <LabelValue\n        label=\"Quantity\"\n        value={market?.baseSizeLotsToNumber(maxQuantity) || '' + maxQuantity}\n      />\n      <LabelValue\n        label=\"Type\"\n        value={orderType.charAt(0).toUpperCase() + orderType.slice(1)}\n      />\n      <LabelValue\n        label=\"Owner\"\n        link={ownerPubkey}\n        value={ownerPubkey ? getAddressValue(ownerPubkey) : ownerPubkey}\n        onOpenAddress={() =>\n          ownerPubkey && onOpenAddress(ownerPubkey?.toBase58())\n        }\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport { Title } from '../../pages/commonStyles';\nimport LabelValue from './LabelValue';\n\nexport default function UnknownInstruction({ instruction, onOpenAddress }) {\n  return (\n    <>\n      <Title\n        variant=\"subtitle1\"\n        style={{ fontWeight: 'bold' }}\n        gutterBottom\n      >\n        Unknown instruction:\n      </Title>\n      <LabelValue\n        key=\"Program\"\n        label=\"Program\"\n        value={instruction.programId?.toBase58()}\n        link={true}\n        gutterBottom={true}\n        onClick={() => onOpenAddress(instruction.programId.toBase58())}\n      />\n      {instruction.accountMetas &&\n        instruction.accountMetas.map((accountMeta, index) => {\n          return (\n            <>\n              <LabelValue\n                key={index + ''}\n                label={'Account #' + (index + 1)}\n                value={accountMeta.publicKey.toBase58()}\n                link={true}\n                onClick={() => onOpenAddress(accountMeta.publicKey.toBase58())}\n              />\n              <Title gutterBottom>\n                Writable: {accountMeta.isWritable.toString()}\n              </Title>\n            </>\n          );\n        })}\n      <Title style={{ wordBreak: 'break-all' }}>\n        Data: {instruction.rawData}\n      </Title>\n    </>\n  );\n}\n","import React from 'react';\nimport LabelValue from './LabelValue';\nimport { Title } from '../../pages/commonStyles';\n\nconst TYPE_LABELS = {\n  systemCreate: 'Create account',\n  systemTransfer: 'Transfer SOL',\n};\n\nconst DATA_LABELS = {\n  toPubkey: { label: 'To', address: true },\n  accountPubkey: { label: 'Account', address: true },\n  basePubkey: { label: 'Base', address: true },\n  seed: { label: 'Seed', address: false },\n  noncePubkey: { label: 'Nonce', address: true },\n  authorizedPubkey: { label: 'Authorized', address: true },\n  newAuthorizedPubkey: { label: 'New authorized', address: true },\n  newAccountPubkey: { label: 'New account', address: true },\n  amount: { label: 'Amount', address: false },\n  lamports: { label: 'Lamports', address: false },\n};\n\nexport default function SystemInstruction({ instruction, onOpenAddress }) {\n  const { type, data } = instruction;\n\n  return (\n    <>\n      <Title\n        variant=\"subtitle1\"\n        style={{ fontWeight: 'bold', fontSize: '1.6rem' }}\n        gutterBottom\n      >\n        {TYPE_LABELS[type]}\n      </Title>\n      {data &&\n        Object.entries(data).map(([key, value]) => {\n          const dataLabel = DATA_LABELS[key];\n          if (!dataLabel) {\n            return null;\n          }\n          const { label, address } = dataLabel;\n          return (\n            <LabelValue\n              key={key}\n              label={label + ''}\n              value={address ? value?.toBase58() : value}\n              link={address}\n              onClick={() => address && onOpenAddress(value?.toBase58())}\n            />\n          );\n        })}\n    </>\n  );\n}\n","import React from 'react';\nimport LabelValue from './LabelValue';\nimport { useWallet, useWalletPublicKeys } from '../../utils/wallet';\nimport { Title } from '../../pages/commonStyles';\n\nconst TYPE_LABELS = {\n  cancelOrder: 'Cancel order',\n  newOrder: 'Place order',\n  settleFunds: 'Settle funds',\n  matchOrders: 'Match orders',\n};\n\nconst DATA_LABELS = {\n  side: { label: 'Side', address: false },\n  orderId: { label: 'Order Id', address: false },\n  limit: { label: 'Limit', address: false },\n  basePubkey: { label: 'Base wallet', address: true },\n  quotePubkey: { label: 'Quote wallet', address: true },\n};\n\nexport default function DexInstruction({ instruction, onOpenAddress }) {\n  const wallet = useWallet();\n  const [publicKeys] = useWalletPublicKeys();\n  const { type, data, market, marketInfo } = instruction;\n\n  const marketLabel =\n    (marketInfo &&\n      marketInfo?.name + (marketInfo?.deprecated ? ' (deprecated)' : '')) ||\n    market?._decoded?.ownAddress?.toBase58() ||\n    'Unknown';\n\n  const getAddressValue = (address) => {\n    const isOwned = publicKeys.some((ownedKey) => ownedKey.equals(address));\n    const isOwner = wallet.publicKey.equals(address);\n    return isOwner\n      ? 'This wallet'\n      : (isOwned ? '(Owned) ' : '') + address?.toBase58();\n  };\n\n  return (\n    <>\n      <Title\n        variant=\"subtitle1\"\n        style={{ fontWeight: 'bold', fontSize: '1.6rem' }}\n        gutterBottom\n      >\n        {TYPE_LABELS[type]}\n      </Title>\n      <LabelValue\n        label=\"Market\"\n        value={marketLabel}\n        link={true}\n        onClick={() =>\n          onOpenAddress(\n            (marketInfo?.address || market?._decoded?.ownAddress)?.toBase58(),\n          )\n        }\n      />\n      {data &&\n        Object.entries(data).map(([key, value]) => {\n          const dataLabel = DATA_LABELS[key];\n          if (!dataLabel) {\n            return null;\n          }\n          const { label, address } = dataLabel;\n          return (\n            <LabelValue\n              key={key}\n              label={label + ''}\n              value={address ? getAddressValue(value) : value + ''}\n              link={address}\n              onClick={() => address && onOpenAddress(value?.toBase58())}\n            />\n          );\n        })}\n    </>\n  );\n}\n","import React from 'react';\nimport LabelValue from './LabelValue';\nimport { useWallet, useWalletPublicKeys } from '../../utils/wallet';\nimport { TOKEN_MINTS } from '@project-serum/serum';\nimport { Title } from '../../pages/commonStyles';\n\nconst TYPE_LABELS = {\n  initializeMint: 'Initialize mint',\n  initializeAccount: 'Initialize account',\n  transfer: 'Transfer',\n  approve: 'Approve',\n  mintTo: 'Mint to',\n  closeAccount: 'Close account',\n};\n\nconst DATA_LABELS = {\n  amount: { label: 'Amount', address: false },\n  accountPubkey: { label: 'Account', address: true },\n  mintPubkey: { label: 'Mint', address: true },\n  sourcePubkey: { label: 'Source', address: true },\n  destinationPubkey: { label: 'Destination', address: true },\n  ownerPubkey: { label: 'Owner', address: true },\n};\n\nexport default function TokenInstruction({ instruction, onOpenAddress }) {\n  const wallet = useWallet();\n  const [publicKeys] = useWalletPublicKeys();\n  const { type, data } = instruction;\n\n  const getAddressValue = (address) => {\n    const tokenMint = TOKEN_MINTS.find((token) =>\n      token.address.equals(address),\n    );\n    const isOwned = publicKeys.some((ownedKey) => ownedKey.equals(address));\n    const isOwner = wallet.publicKey.equals(address);\n    return tokenMint\n      ? tokenMint.name\n      : isOwner\n      ? 'This wallet'\n      : (isOwned ? '(Owned) ' : '') + address?.toBase58();\n  };\n\n  return (\n    <>\n      <Title\n        variant=\"subtitle1\"\n        style={{ fontWeight: 'bold', fontSize: '1.6rem' }}\n        gutterBottom\n      >\n        {TYPE_LABELS[type]}\n      </Title>\n      {data &&\n        Object.entries(data).map(([key, value]) => {\n          const dataLabel = DATA_LABELS[key];\n          if (!dataLabel) {\n            return null;\n          }\n          const { label, address } = dataLabel;\n          return (\n            <LabelValue\n              key={key}\n              label={label + ''}\n              value={address ? getAddressValue(value) : value}\n              link={address}\n              onClick={() => address && onOpenAddress(value?.toBase58())}\n            />\n          );\n        })}\n    </>\n  );\n}\n","import React, { useEffect, useMemo, useState } from 'react';\nimport bs58 from 'bs58';\nimport { Divider, Typography } from '@material-ui/core';\nimport CardContent from '@material-ui/core/CardContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport {\n  useWallet,\n  useWalletPublicKeys,\n} from '../../utils/wallet';\nimport { decodeMessage } from '../../utils/transactions';\nimport {\n  useConnection,\n  useSolanaExplorerUrlSuffix,\n} from '../../utils/connection';\nimport NewOrder from '../../components/instructions/NewOrder';\nimport UnknownInstruction from '../../components/instructions/UnknownInstruction';\nimport SystemInstruction from '../../components/instructions/SystemInstruction';\nimport DexInstruction from '../../components/instructions/DexInstruction';\nimport TokenInstruction from '../../components/instructions/TokenInstruction';\n\nfunction isSafeInstruction(publicKeys, owner, txInstructions) {\n  let unsafe = false;\n  const states = {\n    CREATED: 0,\n    OWNED: 1,\n    CLOSED_TO_OWNED_DESTINATION: 2,\n  };\n  const accountStates = {};\n\n  function isOwned(pubkey) {\n    if (!pubkey) {\n      return false;\n    }\n    if (\n      publicKeys?.some((ownedAccountPubkey) =>\n        ownedAccountPubkey.equals(pubkey),\n      )\n    ) {\n      return true;\n    }\n    return accountStates[pubkey.toBase58()] === states.OWNED;\n  }\n\n  txInstructions.forEach((instructions) => {\n    instructions.forEach((instruction) => {\n      if (!instruction) {\n        unsafe = true;\n      } else {\n        if (instruction.type === 'raydium') {\n          // Whitelist raydium for now.\n        } else if (\n          [\n            'cancelOrder',\n            'cancelOrderV2',\n            'matchOrders',\n            'cancelOrderV3',\n          ].includes(instruction.type)\n        ) {\n          // It is always considered safe to cancel orders, match orders\n        } else if (instruction.type === 'systemCreate') {\n          let { newAccountPubkey } = instruction.data;\n          if (!newAccountPubkey) {\n            unsafe = true;\n          } else {\n            accountStates[newAccountPubkey.toBase58()] = states.CREATED;\n          }\n        } else if (['newOrder', 'newOrderV3'].includes(instruction.type)) {\n          // New order instructions are safe if the owner is this wallet\n          let { openOrdersPubkey, ownerPubkey } = instruction.data;\n          if (ownerPubkey && owner.equals(ownerPubkey)) {\n            accountStates[openOrdersPubkey.toBase58()] = states.OWNED;\n          } else {\n            unsafe = true;\n          }\n        } else if (instruction.type === 'initializeAccount') {\n          // New SPL token accounts are only considered safe if they are owned by this wallet and newly created\n          let { ownerPubkey, accountPubkey } = instruction.data;\n          if (\n            owner &&\n            ownerPubkey &&\n            owner.equals(ownerPubkey) &&\n            accountPubkey &&\n            accountStates[accountPubkey.toBase58()] === states.CREATED\n          ) {\n            accountStates[accountPubkey.toBase58()] = states.OWNED;\n          } else {\n            unsafe = true;\n          }\n        } else if (instruction.type === 'settleFunds') {\n          // Settling funds is only safe if the destinations are owned\n          let { basePubkey, quotePubkey } = instruction.data;\n          if (!isOwned(basePubkey) || !isOwned(quotePubkey)) {\n            unsafe = true;\n          }\n        } else if (instruction.type === 'closeAccount') {\n          // Closing is only safe if the destination is owned\n          let { sourcePubkey, destinationPubkey } = instruction.data;\n          if (isOwned(destinationPubkey)) {\n            accountStates[sourcePubkey.toBase58()] =\n              states.CLOSED_TO_OWNED_DESTINATION;\n          } else {\n            unsafe = true;\n          }\n        } else {\n          unsafe = true;\n        }\n      }\n    });\n  });\n\n  // Check that all accounts are owned\n  if (\n    Object.values(accountStates).some(\n      (state: any) =>\n        ![states.CLOSED_TO_OWNED_DESTINATION, states.OWNED].includes(state),\n    )\n  ) {\n    unsafe = true;\n  }\n\n  return !unsafe;\n}\n\nexport default function SignTransactionFormContent({\n  origin,\n  messages,\n  onApprove,\n  autoApprove,\n  buttonRef,\n}) {\n  const explorerUrlSuffix = useSolanaExplorerUrlSuffix();\n  const connection = useConnection();\n  const wallet = useWallet();\n  const [publicKeys] = useWalletPublicKeys();\n\n  const [parsing, setParsing] = useState(true);\n  // An array of arrays, where each element is the set of instructions for a\n  // single transaction.\n  const [txInstructions, setTxInstructions] = useState<any>(null);\n\n  const isMultiTx = messages.length > 1;\n\n  useEffect(() => {\n    Promise.all(messages.map((m) => decodeMessage(connection, wallet, m))).then(\n      (txInstructions) => {\n        setTxInstructions(txInstructions);\n        setParsing(false);\n      },\n    );\n  }, [messages, connection, wallet]);\n\n  const validator = useMemo(() => {\n    return {\n      safe:\n        publicKeys &&\n        txInstructions &&\n        isSafeInstruction(publicKeys, wallet.publicKey, txInstructions),\n    };\n  }, [publicKeys, txInstructions, wallet]);\n\n  useEffect(() => {\n    if (validator.safe && autoApprove) {\n      console.log('Auto approving safe transaction');\n      onApprove();\n    } else {\n      // brings window to front when we receive new instructions\n      // this needs to be executed from wallet instead of adapter\n      // to ensure chrome brings window to front\n      window.focus();\n\n      // Scroll to approve button and focus it to enable approve with enter.\n      // Keep currentButtonRef in local variable, so the reference can't become\n      // invalid until the timeout is over. this was happening to all auto-\n      // approvals for unknown reasons.\n      let currentButtonRef = buttonRef.current;\n      if (currentButtonRef) {\n        currentButtonRef.scrollIntoView({ behavior: 'smooth' });\n        setTimeout(() => currentButtonRef.focus(), 50);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [validator, autoApprove, buttonRef]);\n\n  const onOpenAddress = (address) => {\n    address &&\n      window.open(\n        'https://explorer.solana.com/address/' + address + explorerUrlSuffix,\n        '_blank',\n      );\n  };\n\n  const getContent = (instruction) => {\n    switch (instruction?.type) {\n      case 'cancelOrder':\n      case 'cancelOrderV2':\n      case 'matchOrders':\n      case 'settleFunds':\n        return (\n          <DexInstruction\n            instruction={instruction}\n            onOpenAddress={onOpenAddress}\n          />\n        );\n      case 'closeAccount':\n      case 'initializeAccount':\n      case 'transfer':\n      case 'approve':\n      case 'mintTo':\n        return (\n          <TokenInstruction\n            instruction={instruction}\n            onOpenAddress={onOpenAddress}\n          />\n        );\n      case 'systemCreateWithSeed':\n      case 'systemCreate':\n      case 'systemTransfer':\n        return (\n          <SystemInstruction\n            instruction={instruction}\n            onOpenAddress={onOpenAddress}\n          />\n        );\n      case 'newOrder':\n        return (\n          <NewOrder instruction={instruction} onOpenAddress={onOpenAddress} />\n        );\n      case 'newOrderV3':\n        return (\n          <NewOrder\n            instruction={instruction}\n            onOpenAddress={onOpenAddress}\n            v3={true}\n          />\n        );\n      default:\n        return (\n          <UnknownInstruction\n            instruction={instruction}\n            onOpenAddress={onOpenAddress}\n          />\n        );\n    }\n  };\n\n  const txLabel = (idx) => {\n    return (\n      <>\n        <Typography variant=\"h6\" gutterBottom>\n          Transaction {idx.toString()}\n        </Typography>\n        <Divider style={{ marginTop: 20 }} />\n      </>\n    );\n  };\n\n  const txListItem = (instructions, txIdx) => {\n    const ixs = instructions.map((instruction, i) => (\n      <Box style={{ marginTop: 20 }} key={i}>\n        {getContent(instruction)}\n        <Divider style={{ marginTop: 20 }} />\n      </Box>\n    ));\n\n    if (!isMultiTx) {\n      return ixs;\n    }\n\n    return (\n      <Box style={{ marginTop: 20 }} key={txIdx}>\n        {txLabel(txIdx)}\n        {ixs}\n      </Box>\n    );\n  };\n\n  return (\n    <CardContent>\n      {parsing ? (\n        <>\n          <div\n            style={{\n              display: 'flex',\n              alignItems: 'flex-end',\n              marginBottom: 20,\n            }}\n          >\n            <CircularProgress style={{ marginRight: 20 }} />\n            <Typography\n              variant=\"subtitle1\"\n              style={{ fontWeight: 'bold' }}\n              gutterBottom\n            >\n              Parsing transaction{isMultiTx ? 's' : ''}:\n            </Typography>\n          </div>\n          {messages.map((message, idx) => (\n            <Typography key={idx} style={{ wordBreak: 'break-all' }}>\n              {bs58.encode(message)}\n            </Typography>\n          ))}\n        </>\n      ) : (\n        <>\n          <Typography variant=\"h6\" gutterBottom>\n            {txInstructions\n              ? `${origin} wants to:`\n              : `Unknown transaction data`}\n          </Typography>\n          {txInstructions ? (\n            txInstructions.map((instructions, txIdx) =>\n              txListItem(instructions, txIdx),\n            )\n          ) : (\n            <>\n              <Typography\n                variant=\"subtitle1\"\n                style={{ fontWeight: 'bold' }}\n                gutterBottom\n              >\n                Unknown transaction{isMultiTx ? 's' : ''}:\n              </Typography>\n              {messages.map((message) => (\n                <Typography style={{ wordBreak: 'break-all' }}>\n                  {bs58.encode(message)}\n                </Typography>\n              ))}\n            </>\n          )}\n        </>\n      )}\n    </CardContent>\n  );\n}","import React, { useEffect } from 'react';\nimport CardContent from '@material-ui/core/CardContent';\nimport Warning from '@material-ui/icons/Warning';\nimport { Tooltip, Divider } from '@material-ui/core';\nimport { useWallet } from '../../utils/wallet';\nimport { Title } from '../commonStyles';\n\nfunction toHex(buffer) {\n  return Array.prototype.map\n    .call(buffer, (x) => ('00' + x.toString(16)).slice(-2))\n    .join('');\n}\n\nexport default function SignFormContent({\n  origin,\n  message,\n  messageDisplay,\n  buttonRef,\n}) {\n  useEffect(() => {\n    // brings window to front when we receive new instructions\n    // this needs to be executed from wallet instead of adapter\n    // to ensure chrome brings window to front\n    window.focus();\n\n    // Scroll to approve button and focus it to enable approve with enter.\n    // Keep currentButtonRef in local variable, so the reference can't become\n    // invalid until the timeout is over. this was happening to all auto-\n    // approvals for unknown reasons.\n    let currentButtonRef = buttonRef.current;\n    if (currentButtonRef) {\n      currentButtonRef.scrollIntoView({ behavior: 'smooth' });\n      setTimeout(() => currentButtonRef.focus(), 50);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [buttonRef]);\n\n  const wallet = useWallet();\n\n  let messageTxt;\n  switch (messageDisplay) {\n    case 'utf8':\n      messageTxt = new TextDecoder().decode(message);\n      break;\n    case 'hex':\n      messageTxt = '0x' + toHex(message);\n      break;\n    default:\n      throw new Error('Unexpected message type: ' + messageDisplay);\n  }\n\n  const renderAction = () => {\n    switch (messageDisplay) {\n      case 'utf8':\n        return `Sign message with account ${wallet.publicKey}`;\n      case 'hex':\n        return (\n          <>\n            <Tooltip\n              title=\"Be especially cautious when signing arbitrary data, you must trust the requester.\"\n              arrow\n            >\n              <Warning style={{ marginBottom: '-7px' }} />\n            </Tooltip>{' '}\n            {`Sign data with account ${wallet.publicKey}`}\n          </>\n        );\n      default:\n        throw new Error('Unexpected message display type: ' + messageDisplay);\n    }\n  };\n\n  return (\n    <CardContent>\n      <Title variant=\"h6\" gutterBottom>\n        {`${origin} wants to:`}\n      </Title>\n      <Title\n        variant=\"subtitle1\"\n        style={{ fontWeight: 'bold' }}\n        gutterBottom\n      >\n        {renderAction()}\n      </Title>\n      <Divider style={{ margin: 20 }} />\n      <Title style={{ wordBreak: 'break-all' }}>{messageTxt}</Title>\n      <Divider style={{ margin: 20 }} />\n    </CardContent>\n  );\n}","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport styled from 'styled-components';\nimport { Redirect } from 'react-router-dom';\nimport {\n  useWallet,\n  useWalletSelector,\n} from '../../utils/wallet';\nimport { useTheme } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport ImportExportIcon from '../../images/importExportIcon.svg';\nimport { makeStyles } from '@material-ui/core/styles';\nimport assert from 'assert';\nimport bs58 from 'bs58';\nimport {\n  RowContainer,\n  VioletButton,\n  WhiteButton,\n  Row,\n  StyledLabel,\n  Title,\n  StyledCheckbox,\n} from '../commonStyles';\n\nimport AccountsSelector from '../Wallet/components/AccountsSelector';\nimport AttentionComponent from '../../components/Attention';\nimport { PublicKey } from '@solana/web3.js';\nimport LogoComponent from '../../components/Logo';\nimport { isExtension } from '../../utils/utils';\nimport SignTransactionFormContent from './SignTransactionFormContent';\nimport SignFormContent from './SignFormContent';\n\nconst StyledCard = styled(Card)`\n  background: #17181a;\n  color: #ecf0f3;\n  text-align: center;\n  width: 50rem;\n  padding: 3rem;\n  margin: 0 auto;\n  box-shadow: none;\n`;\n\nexport default function PopupPage({ origin }) {\n  const opener = window.opener;\n\n  // const origin = useMemo(() => {\n  //   let params = new URLSearchParams(window.location.hash.slice(1));\n  //   return params.get('origin');\n  // }, []);\n\n  const selectedWallet = useWallet();\n  const { accounts, setWalletSelector } = useWalletSelector();\n  const [wallet, setWallet] = useState(isExtension ? null : selectedWallet);\n\n  const postMessage = useCallback(\n    (message) => {\n      if (isExtension) {\n        chrome.runtime.sendMessage({\n          channel: 'sollet_extension_background_channel',\n          data: message,\n        });\n      } else {\n        opener.postMessage({ jsonrpc: '2.0', ...message }, origin);\n      }\n    },\n    [opener, origin],\n  );\n\n  const [connectedAccount, setConnectedAccount] = useState<PublicKey | null>(\n    null,\n  );\n  const hasConnectedAccount = !!connectedAccount;\n  const [requests, setRequests] = useState<any[]>(getInitialRequests);\n  const [autoApprove, setAutoApprove] = useState(false);\n\n  // (Extension only) Fetch connected wallet for site from local storage.\n  useEffect(() => {\n    if (isExtension) {\n      chrome.storage.local.get('connectedWallets', (result) => {\n        const connectedWallet = (result.connectedWallets || {})[origin];\n        if (connectedWallet) {\n          setWalletSelector(connectedWallet.selector);\n          setConnectedAccount(new PublicKey(connectedWallet.publicKey));\n          setAutoApprove(connectedWallet.autoApprove);\n        } else {\n          setConnectedAccount(selectedWallet.publicKey);\n        }\n      });\n    }\n  }, [origin, setWalletSelector, selectedWallet]);\n\n  // (Extension only) Set wallet once connectedWallet is retrieved.\n  useEffect(() => {\n    if (isExtension && connectedAccount) {\n      setWallet(selectedWallet);\n    }\n  }, [connectedAccount, selectedWallet]);\n\n  useEffect(() => {\n    if (!wallet) {\n      postMessage({ method: 'redirect' });\n    }\n  }, [postMessage, wallet]);\n\n  // Send a disconnect event if this window is closed, this component is\n  // unmounted, or setConnectedAccount(null) is called.\n  useEffect(() => {\n    if (hasConnectedAccount && !isExtension) {\n      function unloadHandler() {\n        postMessage({ method: 'disconnected' });\n      }\n      window.addEventListener('beforeunload', unloadHandler);\n      return () => {\n        unloadHandler();\n        window.removeEventListener('beforeunload', unloadHandler);\n      };\n    }\n  }, [hasConnectedAccount, postMessage, origin]);\n\n  // Disconnect if the user switches to a different wallet.\n  useEffect(() => {\n    if (\n      wallet &&\n      connectedAccount &&\n      !connectedAccount.equals(wallet.publicKey)\n    ) {\n      setConnectedAccount(null);\n    }\n  }, [connectedAccount, wallet]);\n\n  // Push requests from the parent window into a queue.\n  useEffect(() => {\n    function messageHandler(e) {\n      if (e.origin === origin && e.source === window.opener) {\n        if (\n          e.data.method !== 'signTransaction' &&\n          e.data.method !== 'signAllTransactions' &&\n          e.data.method !== 'sign'\n        ) {\n          postMessage({ error: 'Unsupported method', id: e.data.id });\n        }\n\n        setRequests((requests) => [...requests, e.data]);\n      }\n    }\n    window.addEventListener('message', messageHandler);\n    return () => window.removeEventListener('message', messageHandler);\n  }, [origin, postMessage]);\n\n  const request = requests[0];\n  const popRequest = () => setRequests((requests) => requests.slice(1));\n\n  if (hasConnectedAccount && requests.length === 0) {\n    if (isExtension) {\n      window.close();\n    } else {\n      focusParent();\n    }\n\n    return (\n      <RowContainer height={'calc(100% - 6rem)'}>\n        <Title style={{ fontSize: '2rem' }}>\n          {isExtension\n            ? 'Submitting...'\n            : 'Please keep this window open in the background.'}\n        </Title>\n      </RowContainer>\n    );\n  }\n\n  if (!wallet) {\n    return (\n      <RowContainer height={'calc(100% - 6rem)'}>\n        <Title style={{ fontSize: '2rem' }}>Loading wallet...</Title>\n      </RowContainer>\n    );\n  }\n\n  const mustConnect =\n    !connectedAccount || !connectedAccount.equals(wallet.publicKey);\n  // We must detect when to show the connection form on the website as it is not sent as a request.\n  if (\n    (isExtension && request.method === 'connect') ||\n    (!isExtension && mustConnect)\n  ) {\n    // Approve the parent page to connect to this wallet.\n    function connect(autoApprove) {\n      setConnectedAccount(wallet.publicKey);\n      if (isExtension) {\n        chrome.storage.local.get('connectedWallets', (result) => {\n          // TODO better way to do this\n          const account = accounts.find((account) =>\n            account.address.equals(wallet.publicKey),\n          );\n          const connectedWallets = {\n            ...(result.connectedWallets || {}),\n            [origin]: {\n              publicKey: wallet.publicKey.toBase58(),\n              selector: account.selector,\n              autoApprove,\n            },\n          };\n          chrome.storage.local.set({ connectedWallets });\n        });\n      }\n      postMessage({\n        method: 'connected',\n        params: { publicKey: wallet.publicKey.toBase58(), autoApprove },\n        id: isExtension ? request.id : undefined,\n      });\n      setAutoApprove(autoApprove);\n      if (!isExtension) {\n        focusParent();\n      } else {\n        popRequest();\n      }\n    }\n\n    return <ApproveConnectionForm origin={origin} onApprove={connect} />;\n  }\n\n  assert(\n    (request.method === 'signTransaction' ||\n      request.method === 'signAllTransactions' ||\n      request.method === 'sign') &&\n      wallet,\n  );\n\n  let messages, messageDisplay;\n  switch (request.method) {\n    case 'signTransaction':\n      messages = [bs58.decode(request.params.message)];\n      messageDisplay = 'tx';\n      break;\n    case 'signAllTransactions':\n      messages = request.params.messages.map((m) => bs58.decode(m));\n      messageDisplay = 'tx';\n      break;\n    case 'sign':\n      if (!(request.params.data instanceof Uint8Array)) {\n        throw new Error('Data must be an instance of Uint8Array');\n      }\n      messages = [request.params.data];\n      messageDisplay = request.params.display === 'utf8' ? 'utf8' : 'hex';\n      break;\n    default:\n      throw new Error('Unexpected method: ' + request.method);\n  }\n\n  async function onApprove() {\n    popRequest();\n    switch (request.method) {\n      case 'signTransaction':\n      case 'sign':\n        sendSignature(messages[0]);\n        break;\n      case 'signAllTransactions':\n        sendAllSignatures(messages);\n        break;\n      default:\n        throw new Error('Unexpected method: ' + request.method);\n    }\n  }\n\n  async function sendSignature(message) {\n    postMessage({\n      result: {\n        signature: await wallet.createSignature(message),\n        publicKey: wallet.publicKey.toBase58(),\n      },\n      id: request.id,\n    });\n  }\n\n  async function sendAllSignatures(messages) {\n    console.log('wallet', wallet);\n    let signatures;\n    // Ledger must sign one by one.\n    if (wallet.type === 'ledger') {\n      signatures = [];\n      for (let k = 0; k < messages.length; k += 1) {\n        signatures.push(await wallet.createSignature(messages[k]));\n      }\n    } else {\n      signatures = await Promise.all(\n        messages.map((m) => wallet.createSignature(m)),\n      );\n    }\n    postMessage({\n      result: {\n        signatures,\n        publicKey: wallet.publicKey.toBase58(),\n      },\n      id: request.id,\n    });\n  }\n\n  function sendReject() {\n    popRequest();\n    postMessage({\n      error: 'Transaction cancelled',\n      id: request.id,\n    });\n  }\n\n  return (\n    <StyledCard\n      style={{ textAlign: 'left', overflowY: 'auto', height: '100%' }}\n    >\n      <ApproveSignatureForm\n        key={request.id}\n        autoApprove={autoApprove}\n        origin={origin}\n        messages={messages}\n        messageDisplay={messageDisplay}\n        onApprove={onApprove}\n        onReject={sendReject}\n      />\n    </StyledCard>\n  );\n}\n\n/**\n * Switch focus to the parent window. This requires that the parent runs\n * `window.name = 'parent'` before opening the popup.\n */\nfunction focusParent() {\n  try {\n    window.open('', 'parent');\n  } catch (err) {\n    console.log('err', err);\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  connection: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    textAlign: 'center',\n  },\n  approveButton: {\n    backgroundColor: '#43a047',\n    color: 'white',\n  },\n  actions: {\n    justifyContent: 'space-between',\n  },\n  divider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nfunction getInitialRequests() {\n  if (!isExtension) {\n    return [];\n  }\n\n  // TODO CHECK OPENER (?)\n\n  const urlParams = new URLSearchParams(window.location.hash.slice(1));\n  return [JSON.parse(urlParams.get('request') || '')];\n}\n\nfunction ApproveConnectionForm({ origin, onApprove }) {\n  const wallet = useWallet();\n  const classes = useStyles();\n  const { accounts } = useWalletSelector();\n  // TODO better way to do this\n  const account = accounts.find((account) =>\n    account.address.equals(wallet.publicKey),\n  );\n  const [autoApprove, setAutoApprove] = useState(true);\n\n  const theme = useTheme();\n\n  return (\n    <StyledCard>\n      {(!window.opener || !wallet) && <Redirect to=\"/\" />}\n      <CardContent style={{ padding: 0 }}>\n        <RowContainer margin={'0 0 2rem 0'} justify={'space-between'}>\n          <LogoComponent width=\"50%\" height=\"auto\" margin=\"0\" />\n          <AccountsSelector isFromPopup accountNameSize={'1.6rem'} />\n        </RowContainer>\n        <Title\n          fontSize=\"2.4rem\"\n          fontFamily=\"Avenir Next Demi\"\n          style={{ marginBottom: '3rem' }}\n        >\n          Allow this site to access your Wallet™?\n        </Title>\n        <RowContainer\n          margin={'0 0 4rem 0'}\n          direction={'column'}\n          className={classes.connection}\n        >\n          <RowContainer margin=\"6rem 0 0 0\">\n            <Title>{origin}</Title>\n          </RowContainer>\n          <img\n            alt={'import export icon'}\n            style={{ margin: '2rem 0' }}\n            src={ImportExportIcon}\n          />\n          <Title fontSize=\"1.6rem\">{account.name}</Title>\n          <Title fontSize=\"1.6rem\">{wallet?.publicKey?.toBase58()}</Title>\n        </RowContainer>\n\n        <RowContainer direction={'row'}>\n          <StyledCheckbox\n            id=\"autoApprove\"\n            theme={theme}\n            checked={autoApprove}\n            onChange={() => setAutoApprove(!autoApprove)}\n          />\n          <Row style={{ textAlign: 'left' }}>\n            <StyledLabel\n              theme={theme}\n              htmlFor=\"autoApprove\"\n              style={{ fontSize: '1.6rem' }}\n            >\n              Automatically approve transactions from{' '}\n              <span style={{ color: '#ECF0F3' }}>{origin}</span>.<br />\n              This will allow you to use the auto-settle function.\n            </StyledLabel>\n          </Row>\n        </RowContainer>\n        <RowContainer margin=\"6rem 0 0 0\">\n          <AttentionComponent\n            text={\n              'Only connect with sites you trust. Auto approve allows sending some transactions on your behalf without requesting your permission for the remainder of this session.'\n            }\n            textStyle={{ fontSize: '1.6rem', textAlign: 'left' }}\n            iconStyle={{ height: '7rem', margin: '0 2rem 0 3rem' }}\n          />\n        </RowContainer>\n      </CardContent>\n      <RowContainer margin=\"6rem 0 0 0\" justify={'space-between'}>\n        <WhiteButton\n          width={'calc(50% - .5rem)'}\n          theme={theme}\n          color={'#ECF0F3'}\n          onClick={window.close}\n        >\n          Cancel\n        </WhiteButton>\n        <VioletButton\n          theme={theme}\n          width={'calc(50% - .5rem)'}\n          onClick={() => onApprove(autoApprove)}\n        >\n          Connect\n        </VioletButton>\n      </RowContainer>\n    </StyledCard>\n  );\n}\n\nfunction ApproveSignatureForm({\n  origin,\n  messages,\n  messageDisplay,\n  onApprove,\n  onReject,\n  autoApprove,\n}) {\n  const theme = useTheme();\n  const buttonRef = useRef();\n\n  const isMultiTx = messageDisplay === 'tx' && messages.length > 1;\n\n  const renderFormContent = () => {\n    if (messageDisplay === 'tx') {\n      return (\n        <SignTransactionFormContent\n          autoApprove={autoApprove}\n          origin={origin}\n          messages={messages}\n          onApprove={onApprove}\n          buttonRef={buttonRef}\n        />\n      );\n    } else {\n      return (\n        <SignFormContent\n          origin={origin}\n          message={messages[0]}\n          messageDisplay={messageDisplay}\n          buttonRef={buttonRef}\n        />\n      );\n    }\n  };\n\n  return (\n    <>\n      <CardContent>{renderFormContent()}</CardContent>\n      <RowContainer>\n        <WhiteButton theme={theme} width=\"calc(50% - .5rem)\" onClick={onReject}>\n          Cancel\n        </WhiteButton>\n        <VioletButton\n          theme={theme}\n          width=\"calc(50% - .5rem)\"\n          onClick={onApprove}\n        >\n          Approve{isMultiTx ? ' All' : ''}\n        </VioletButton>\n      </RowContainer>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ConnectPopup from '../pages/ConnectPopup/PopupPage';\n\nexport default function ConnectPopupRoute({ match, origin }) {\n  return (\n    <Switch>\n      <Route\n        path={match.url}\n        component={(props) => <ConnectPopup origin={origin} {...props} />}\n      />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}