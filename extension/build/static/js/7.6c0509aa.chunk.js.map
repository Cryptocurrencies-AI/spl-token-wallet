{"version":3,"sources":["utils/swap/api.js","pages/Wallet/styles.tsx","pages/CreateWallet/components/ProgressBar.tsx","pages/Wallet/components/AddTokenPopup.tsx","pages/Wallet/components/AccountInfo.tsx","pages/Wallet/components/ActivityTable.tsx","utils/config.js","utils/swap/eth.js","pages/Wallet/components/SendPopup.tsx","components/EthFeeEstimate.tsx","pages/Wallet/components/ReceivePopup.tsx","images/metamask.png","pages/Wallet/index.tsx","routes/WalletRouter.tsx"],"names":["SwapApiError","msg","status","name","Error","swapApiRequest","method","path","body","a","ignoreUserErrors","params","headers","cache","JSON","stringify","fetch","resp","handleSwapApiResponse","json","success","error","result","useSwapApiGet","options","useAsyncData","undefined","styled","DialogContent","props","width","height","justify","Dialog","StyledTabs","Tabs","theme","customPalette","blue","serum","StyledTab","Tab","StyledStepLabel","StepLabel","div","ProgressBarContainer","Percent","ProgressBar","currentStep","Step","isCompleted","isSelected","Steps","StepContainer","AlignedTitle","Title","ProgressBarComponent","firstStepText","secondStepText","thirdStepText","style","direction","align","padding","id","WhiteText","GreenText","green","light","feeFormat","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","AddTokenDialog","open","onClose","wallet","useWallet","tokenAccountCost","updateTokenName","useUpdateTokenName","useWalletTokenAccounts","walletAccounts","useSendTransaction","sendTransaction","sending","popularTokens","usePopularTokens","useState","tab","setTab","searchValue","setSearchValue","mintAddress","setMintAddress","tokenName","setTokenName","tokenSymbol","setTokenSymbol","erc20Address","setErc20Address","selectedTokens","setSelectedTokens","useTheme","useBalanceInfo","publicKey","amount","decimals","mint","tokenLogoUri","valid","onSubmit","Promise","all","map","tokenInfo","addToken","then","refreshWalletPublicKeys","onSuccess","length","startsWith","useEffect","cost","stripDigitPlaces","format","LAMPORTS_PER_SOL","isBalanceLowerCost","Math","pow","isDisabled","handleKeyDown","event","key","splMint","ticker","blockchain","PublicKey","createAssociatedTokenAccount","onEnter","margin","value","onChange","e","label","type","target","match","onSearchClick","placeholder","filter","deprecated","abbreviateAddress","address","toLowerCase","includes","symbol","TokenListItem","existingAccount","find","account","parsed","toBase58","disalbed","trim","autoFocus","disabled","onPasteClick","navigator","clipboard","readText","clipText","href","rel","onKeyDown","color","red","main","formatNumberToUSFormat","onClick","logoUri","alreadyExists","selectedTokenIndex","findIndex","token","checked","borderBottom","border","new","cursor","slice","size","marginLeft","AccountInfoContainer","RowContainer","AccountInfo","AccountsSelector","position","grey","background","borderRadius","fontSize","fontFamily","TotalBalance","isNavbar","orange","dark","whiteSpace","React","memo","prev","next","ActivityTable","localStorage","getItem","web3","Web3","window","ethereum","SUGGESTED_GAS_LIMIT","useEthAccount","setAccount","accounts","request","on","removeListener","getErc20Balance","parseInt","eth","getBalance","erc20","Contract","ERC20_ABI","methods","balanceOf","call","swapAddress","ethAccount","estimateEthSwapFees","approveAmount","addDecimals","approve","estimateGas","from","approveEstimatedGas","swapEstimatedGas","getGasPrice","gasPrice","estimatedGas","swapErc20ToSpl","destination","onStatusChange","swapEthToSpl","swap","SWAP_ABI","encodedAmount","approveTx","send","waitForTxid","step","swapTx","swapErc20","gasLimit","swapTxid","txid","confirms","waitForConfirms","swapEth","str","test","split","intStr","fractionStr","repeat","replace","pendingNonces","Set","withdrawal","callAsync","txData","signature","withdrawErc20","nonce","withdrawEth","has","add","progressMessage","coin","delete","tx","resolve","reject","once","catch","resolved","receipt","ConnectToMetamaskButton","useCallAsync","component","isExtension","successMessage","WUSDC_MINT","USDC_MINT","WUSDT_MINT","USDT_MINT","getTabs","swapCoinInfo","equals","SendDialog","balanceInfo","isProdNetwork","useIsProdNetwork","tokenSymbolForCheck","DialogForm","FakeInputs","variant","textColor","indicatorColor","SendSplDialog","SendSwapDialog","wusdcToSplUsdc","wusdtToSplUsdt","erc20Contract","EthWithdrawalCompleter","defaultAddressHelperText","WRAPPED_SOL_MINT","addressHelperText","setAddressHelperText","passValidation","setPassValidation","overrideDestinationCheck","setOverrideDestinationCheck","shouldShowOverride","setShouldShowOverride","useForm","fields","destinationAddress","transferAmountString","validAmount","mintString","makeTransaction","round","parseFloat","transferToken","connection","getAccountInfo","destinationAccountInfo","owner","TOKEN_PROGRAM_ID","parseTokenAccountData","data","console","log","onError","alignItems","display","textAlign","htmlFor","setSignature","setDestinationAddress","needMetamask","splUsdcWalletAddress","useWalletAddressForMint","splUsdtWalletAddress","wusdcToUsdc","wusdtToUsdt","swapInfo","SendSwapProgress","sendButton","enqueueSnackbar","useSnackbar","showResult","setShowResult","showedResult","setIsResultShowed","useConnection","refreshInterval","swaps","getSignatureStatus","confirmations","ethTxid","deposit","stepToShow","DialogContentText","marginTop","marginBottom","flexDirection","passAddressValidation","setTransferAmountString","balanceAmount","parsedAmount","isConvertTab","maxBalance","String","balanceAmountToUserAmount","Input","containerStyle","Attention","blockHeight","iconStyle","textStyle","text","onMaxClick","maxText","toFixed","EthWithdrawalCompleterItem","FeeContentText","ethFee","ethPrice","warning","prefix","bold","usdFeeEstimate","fontWeight","EthFeeEstimate","ethFeeData","insufficientEthBalance","ethFeeEstimate","loaded","setEthPrice","m","serumMarkets","priceStore","getPrice","Array","isArray","approveFee","swapFee","DepositDialog","firstTab","urlSuffix","useSolanaExplorerUrlSuffix","Link","SolletSwapDepositAddress","ethBalance","estimateErc20SwapFees","reduce","acc","elem","src","alt","MetamaskDeposit","setAmount","submitted","setSubmitted","setStatus","maxSize","Infinity","min","tuple","maxAmount","Number","convertButton","Stepper","activeStep","marginRight","CircularProgress","Wallet","selectedPublicKey","selectPublicKey","sendDialogOpen","setSendDialogOpen","depositDialogOpen","setDepositDialogOpen","showAddTokenDialog","setShowAddTokenDialog","opener","to","maxHeight","AssetsTable","LoginRoutes","location","hasLockedMnemonicAndSeed","url"],"mappings":"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","file":"static/js/7.6c0509aa.chunk.js","sourcesContent":["import { useAsyncData } from '../fetch-loop';\n\nexport class SwapApiError extends Error {\n  constructor(msg, status) {\n    super(msg);\n    this.name = 'SwapApiError';\n    this.status = status;\n  }\n}\n\nexport async function swapApiRequest(\n  method,\n  path,\n  body,\n  { ignoreUserErrors = false } = {},\n) {\n  let headers = {};\n  let params = { headers, method };\n  if (method === 'GET') {\n    params.cache = 'no-cache';\n  } else if (body) {\n    headers['Content-Type'] = 'application/json';\n    params.body = JSON.stringify(body);\n  }\n  let resp = await fetch(`https://swap.sollet.io/api/${path}`, params);\n  return await handleSwapApiResponse(resp, ignoreUserErrors);\n}\n\nasync function handleSwapApiResponse(resp, ignoreUserErrors) {\n  let json = await resp.json();\n  if (!json.success) {\n    if (ignoreUserErrors && resp.status >= 400 && resp.status < 500) {\n      return null;\n    }\n    throw new SwapApiError(json.error, resp.status);\n  }\n  return json.result;\n}\n\nexport function useSwapApiGet(path, options) {\n  return useAsyncData(\n    async () => {\n      if (!path) {\n        return null;\n      }\n      return await swapApiRequest('GET', path, undefined, {\n        ignoreUserErrors: true,\n      });\n    },\n    ['swapApiGet', path],\n    options,\n  );\n}\n","import { Dialog, DialogContent, StepLabel, Tab, Tabs } from '@material-ui/core'\nimport styled from 'styled-components'\n\nexport const StyledDialogContent = styled(DialogContent)`\n  &&& {\n    width: ${(props) => props.width || '50rem'};\n    height: ${(props) => props.height || '40rem'};\n    background: #222429;\n    border: 0.1rem solid #3a475c;\n    box-shadow: 0px 0px 16px rgba(125, 125, 131, 0.1);\n    border-radius: 2rem;\n    display: flex;\n    justify-content: ${(props) => props.justify || 'center'};\n    flex-direction: column;\n    align-items: center;\n  }\n`\n\nexport const StyledDialog = styled(Dialog)`\n  &&& {\n    width: ${(props) => props.width || '50rem'};\n    height: ${(props) => props.height || '40rem'};\n    background: #222429;\n    border: 0.1rem solid #3a475c;\n    box-shadow: 0px 0px 16px rgba(125, 125, 131, 0.1);\n    border-radius: 2rem;\n    display: flex;\n    justify-content: ${(props) => props.justify || 'center'};\n    flex-direction: column;\n    align-items: center;\n  }\n`\n\nexport const StyledTabs = styled(Tabs)`\n  width: 90%;\n\n  .MuiTabs-flexContainer {\n    justify-content: center;\n  }\n  \n  & > div > span {\n    background: ${props => props.theme.customPalette.blue.serum} !important;\n  }\n`\n\nexport const StyledTab = styled(Tab)`\n  &&& {\n    min-width: auto;\n    color: ${props => props.theme.customPalette.blue.serum};\n    border-color: ${props => props.theme.customPalette.blue.serum};\n    text-transform: capitalize;\n    font-size: 1.4rem;\n    font-family: Avenir Next Demi;\n    white-space: nowrap;\n  }\n`\n\nexport const StyledStepLabel = styled(StepLabel)`\n  & span {\n    font-size: 1.4rem;\n  }\n\n  & svg {\n    width: 2rem;\n    height: 2rem;\n\n    text {\n      font-size: 1.4rem;\n    }\n  }\n`","import React from 'react';\nimport styled from 'styled-components';\nimport { RowContainer, Title } from '../../commonStyles';\n\nexport const Stroke = styled.div`\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 0.2rem solid #383b45;\n  width: 90%;\n  height: 4rem;\n`;\n\nconst ProgressBarContainer = styled.div`\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n`;\n\nconst Percent = styled.div`\n  position: absolute;\n  width: 0;\n  height: 100%;\n  border-bottom: 2px solid #4b81bd;\n  z-index: 1;\n  transition: width 1s;\n`;\n\nconst ProgressBar = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 50%;\n  border-bottom: 0.1rem solid transparent;\n  border-image: ${(props) =>\n    props.currentStep === 1\n      ? 'linear-gradient(90deg,rgb(115, 128, 235),rgb(147, 160, 178) 36%,rgb(147, 160, 178))'\n      : props.currentStep === 2\n      ? 'linear-gradient(90deg, rgb(64, 110, 220), rgb(115, 128, 235) 51%, rgb(147, 160, 178) 90%)'\n      : 'linear-gradient(90deg, #366CE5, #366CE5 51%, #366CE5 90%)'};\n  border-image-slice: 1;\n  z-index: -1;\n`;\n\nconst Step = styled.div`\n  width: 3.5rem;\n  height: 3.5rem;\n  background: ${(props) => (props.isCompleted ? '#406EDC' : '#17181a')};\n  color: #fff;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.4rem;\n  display: flex;\n  border: ${(props) =>\n    props.isSelected || props.isCompleted\n      ? '0.1rem solid #406EDC'\n      : '0.1rem solid #93A0B2'};\n  border-radius: 50%;\n  transition: background 1s;\n`;\n\nconst Steps = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 40rem;\n  height: 0.1rem;\n  background: ${(props) => (props.isCompleted ? '#366CE5' : 'none')};\n`;\n\nconst StepContainer = styled.div`\n  position: relative;\n`;\n\nconst AlignedTitle = styled(Title)`\n  position: absolute;\n  left: 50%;\n  top: calc(100% + 1rem);\n  transform: translateX(-50%);\n  white-space: nowrap;\n`;\n\nconst ProgressBarComponent = ({\n  currentStep,\n  firstStepText = 'Create Password',\n  secondStepText = 'Confirm Seed Phrase',\n  thirdStepText = 'Add Tokens',\n  style = {},\n}: {\n  currentStep: number;\n  firstStepText?: string;\n  secondStepText?: string;\n  thirdStepText?: string;\n  style?: any;\n}) => {\n  return (\n    <RowContainer\n      direction={'row'}\n      justify={'flex-start'}\n      align={'baseline'}\n      padding={'0 0 7rem 0'}\n      style={{ ...style }}\n    >\n      <ProgressBarContainer>\n        <ProgressBar currentStep={currentStep}>\n          <Percent />\n        </ProgressBar>\n\n        <Steps isCompleted={currentStep === 3}>\n          <StepContainer>\n            {' '}\n            <Step\n              isCompleted={currentStep > 1}\n              isSelected={currentStep === 1}\n              id=\"1\"\n            >\n              1\n            </Step>\n            <AlignedTitle>{firstStepText}</AlignedTitle>\n          </StepContainer>\n          <StepContainer>\n            <Step\n              isCompleted={currentStep > 2}\n              isSelected={currentStep === 2}\n              id=\"2\"\n            >\n              2\n            </Step>\n            <AlignedTitle>{secondStepText}</AlignedTitle>\n          </StepContainer>\n          <StepContainer>\n            <Step\n              isCompleted={currentStep > 3}\n              isSelected={currentStep === 3}\n              id=\"3\"\n            >\n              3\n            </Step>\n            <AlignedTitle>{thirdStepText}</AlignedTitle>\n          </StepContainer>\n        </Steps>\n      </ProgressBarContainer>\n    </RowContainer>\n  );\n};\n\nexport default ProgressBarComponent;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  refreshWalletPublicKeys,\n  useBalanceInfo,\n  useWallet,\n  useWalletTokenAccounts,\n} from '../../../utils/wallet';\nimport { LAMPORTS_PER_SOL, PublicKey } from '@solana/web3.js';\nimport { useUpdateTokenName } from '../../../utils/tokens/names';\nimport { useAsyncData } from '../../../utils/fetch-loop';\nimport LoadingIndicator from '../../../components/LoadingIndicator';\nimport { useTheme } from '@material-ui/core';\nimport { useSendTransaction } from '../../../utils/notifications';\nimport {\n  abbreviateAddress,\n  formatNumberToUSFormat,\n  stripDigitPlaces,\n} from '../../../utils/utils';\nimport { usePopularTokens } from '../../../utils/tokens/names';\nimport Link from '@material-ui/core/Link';\nimport DialogForm from '../../../pages/Wallet/components/DialogForm';\n// import { showSwapAddress } from '../../../utils/config';\nimport { swapApiRequest } from '../../../utils/swap/api';\nimport TokenIcon from '../../../components/TokenIcon';\nimport { InputWithPaste, InputWithSearch } from '../../../components/Input';\nimport {\n  Row,\n  Input,\n  ListCard,\n  RowContainer,\n  StyledCheckbox,\n  Title,\n  VioletButton,\n  WhiteButton,\n} from '../../commonStyles';\nimport { StyledTab, StyledTabs } from '../styles';\nimport FakeInputs from '../../../components/FakeInputs';\n\nconst WhiteText = styled(Title)`\n  font-size: 1.4rem;\n  font-family: Avenir Next Demi;\n`;\n\nconst GreenText = styled(WhiteText)`\n  color: ${(props) => props.theme.customPalette.green.light};\n`;\n\nexport const feeFormat = new Intl.NumberFormat(undefined, {\n  minimumFractionDigits: 6,\n  maximumFractionDigits: 6,\n});\n\nexport default function AddTokenDialog({ open, onClose }) {\n  let wallet = useWallet();\n  let [tokenAccountCost] = useAsyncData(\n    wallet.tokenAccountCost,\n    wallet.tokenAccountCost,\n  );\n  let updateTokenName = useUpdateTokenName();\n  const [walletAccounts] = useWalletTokenAccounts();\n\n  const [sendTransaction, sending] = useSendTransaction();\n  const popularTokens = usePopularTokens();\n\n  const [tab, setTab] = useState(!!popularTokens ? 'popular' : 'manual');\n  const [searchValue, setSearchValue] = useState('');\n  const [mintAddress, setMintAddress] = useState('');\n  const [tokenName, setTokenName] = useState('');\n  const [tokenSymbol, setTokenSymbol] = useState('');\n  const [erc20Address, setErc20Address] = useState('');\n  const [selectedTokens, setSelectedTokens] = useState([]);\n\n  const theme = useTheme();\n  const balanceInfo = useBalanceInfo(wallet.publicKey);\n  let { amount, decimals } = balanceInfo || {\n    amount: 0,\n    decimals: 8,\n    mint: null,\n    tokenName: 'Loading...',\n    tokenSymbol: '--',\n    tokenLogoUri: null,\n  };\n\n  let valid = true;\n  if (tab === 'erc20') {\n    valid = erc20Address.length === 42 && erc20Address.startsWith('0x');\n  } else if (tab === 'manual') {\n    valid =\n      mintAddress !== '' &&\n      tokenSymbol !== '' &&\n      tokenSymbol.length <= 8 &&\n      tokenName !== '' &&\n      tokenName.length <= 16;\n  } else {\n    valid = selectedTokens.length > 0;\n  }\n\n  useEffect(() => {\n    if (!popularTokens) {\n      setTab('manual');\n    }\n  }, [popularTokens]);\n\n  function onSubmit() {\n    let params;\n    if (tab === 'manual') {\n      params = { mintAddress, tokenName, tokenSymbol };\n    } else if (tab === 'erc20') {\n      params = { erc20Address };\n    } else {\n      Promise.all(\n        selectedTokens.map((tokenInfo) => sendTransaction(addToken(tokenInfo))),\n      ).then(() => {\n        refreshWalletPublicKeys(wallet);\n        onClose();\n      });\n\n      return;\n    }\n\n    sendTransaction(addToken(params), {\n      onSuccess: () => {\n        refreshWalletPublicKeys(wallet);\n        onClose();\n      },\n    });\n  }\n\n  const cost =\n    tab === 'popular'\n      ? stripDigitPlaces(\n          (+feeFormat.format(tokenAccountCost / LAMPORTS_PER_SOL) || 0.002039) *\n            selectedTokens.length,\n          8,\n        )\n      : stripDigitPlaces(\n          +feeFormat.format(tokenAccountCost / LAMPORTS_PER_SOL) || 0.002039,\n          8,\n        );\n\n  const isBalanceLowerCost = amount / Math.pow(10, decimals) < cost;\n\n  const isDisabled = sending || !valid || isBalanceLowerCost;\n\n  const handleKeyDown = (event: any) => {\n    if (event.key === 'Enter' && !isDisabled) {\n      onSubmit();\n    }\n  };\n\n  async function addToken({\n    mintAddress,\n    tokenName,\n    tokenSymbol,\n    erc20Address,\n  }) {\n    if (erc20Address) {\n      let tokenInfo = await swapApiRequest('POST', `coins/eth/${erc20Address}`);\n      mintAddress = tokenInfo.splMint;\n      tokenName = tokenInfo.name;\n      tokenSymbol = tokenInfo.ticker;\n      if (tokenInfo.blockchain !== 'sol') {\n        tokenName = 'Wrapped ' + tokenName;\n      }\n    }\n\n    let mint = new PublicKey(mintAddress);\n    updateTokenName(mint, tokenName, tokenSymbol);\n    const resp = await wallet.createAssociatedTokenAccount(mint);\n    return resp[1];\n  }\n\n  return (\n    <DialogForm\n      open={open}\n      onClose={onClose}\n      height={'auto'}\n      padding={'2rem 0'}\n      onEnter={() => {\n        setSelectedTokens([]);\n        setErc20Address('');\n        setSearchValue('');\n        setMintAddress('');\n        setTokenName('');\n        setTokenSymbol('');\n        setTab(!!popularTokens ? 'popular' : 'manual');\n      }}\n    >\n      <FakeInputs />\n      {!!popularTokens && (\n        <RowContainer margin=\"0 0 2rem 0\">\n          <StyledTabs\n            value={tab}\n            theme={theme}\n            onChange={(e, value) => setTab(value)}\n          >\n            <StyledTab theme={theme} label=\"Popular Tokens\" value=\"popular\" />\n            {/* {showSwapAddress ? (\n              <StyledTab theme={theme} label=\"ERC20 Token\" value=\"erc20\" />\n            ) : null} */}\n            <StyledTab theme={theme} label=\"Manual Input\" value=\"manual\" />\n          </StyledTabs>\n        </RowContainer>\n      )}\n      <RowContainer direction=\"column\">\n        <RowContainer margin=\"0 0 2rem 0\">\n          {tokenAccountCost ? (\n            <WhiteText theme={theme}>\n              Add a token to your wallet. This will cost{' '}\n              <GreenText theme={theme}>\n                {stripDigitPlaces(tokenAccountCost / LAMPORTS_PER_SOL, 6)} SOL\n              </GreenText>{' '}\n              per token.\n            </WhiteText>\n          ) : (\n            <LoadingIndicator />\n          )}\n        </RowContainer>\n\n        {tab === 'manual' || !popularTokens ? (\n          <>\n            <InputWithPaste\n              placeholder={'Token Mint Address'}\n              value={mintAddress}\n              onChange={(e) => setMintAddress(e.target.value)}\n              autoFocus\n              disabled={sending}\n              onKeyDown={handleKeyDown}\n              onPasteClick={() =>\n                navigator.clipboard\n                  .readText()\n                  .then((clipText) => setMintAddress(clipText))\n              }\n            />\n            <RowContainer width=\"90%\" margin={'2rem 0 0 0'}>\n              <Input\n                placeholder={'Token Name (e.g. CCAI Token)'}\n                value={tokenName}\n                onKeyDown={handleKeyDown}\n                onChange={(e) => setTokenName(e.target.value)}\n                disabled={sending}\n              />\n            </RowContainer>\n            {tokenName.length > 16 && (\n              <RowContainer width=\"90%\" margin=\"2rem 0 0 0\">\n                <Title color={theme.customPalette.red.main}>\n                  Sorry, token name shouldn't be longer than 16 symbols\n                </Title>\n              </RowContainer>\n            )}\n            <RowContainer width=\"90%\" margin={'2rem 0 0 0'}>\n              <Input\n                placeholder={'Token Symbol (e.g. CCAI)'}\n                value={tokenSymbol}\n                onKeyDown={handleKeyDown}\n                onChange={(e) => setTokenSymbol(e.target.value)}\n                disabled={sending}\n              />\n            </RowContainer>\n            {tokenSymbol.length > 8 && (\n              <RowContainer width=\"90%\" margin=\"2rem 0 0 0\">\n                <Title color={theme.customPalette.red.main}>\n                  Sorry, token symbol shouldn't be longer than 8 symbols\n                </Title>\n              </RowContainer>\n            )}\n          </>\n        ) : tab === 'popular' ? (\n          <RowContainer width=\"90%\">\n            <RowContainer justify=\"flex-start\" direction=\"column\">\n              <WhiteText theme={theme}>\n                Select tokens you want to add to your wallet\n              </WhiteText>\n              <RowContainer margin=\"2rem 0\">\n                <InputWithSearch\n                  type={'text'}\n                  value={searchValue}\n                  onChange={(e) => {\n                    if (\n                      !`${e.target.value}`.match(/[a-zA-Z1-9]/) &&\n                      e.target.value !== ''\n                    ) {\n                      return;\n                    }\n\n                    setSearchValue(e.target.value);\n                  }}\n                  onSearchClick={() => {}}\n                  placeholder={'Search'}\n                />\n              </RowContainer>\n              <ListCard>\n                {popularTokens\n                  .filter(\n                    (tokenInfo) =>\n                      !tokenInfo.deprecated &&\n                      (searchValue !== ''\n                        ? (\n                            tokenInfo.name ??\n                            abbreviateAddress(tokenInfo.address)\n                          )\n                            .toLowerCase()\n                            .includes(searchValue.toLowerCase()) ||\n                          tokenInfo.symbol\n                            .toLowerCase()\n                            .includes(searchValue.toLowerCase())\n                        : true),\n                  )\n                  .map((tokenInfo) => (\n                    <TokenListItem\n                      key={tokenInfo.address}\n                      {...tokenInfo}\n                      mintAddress={tokenInfo.address}\n                      existingAccount={(walletAccounts || []).find(\n                        (account) =>\n                          account.parsed.mint.toBase58() === tokenInfo.address,\n                      )}\n                      onSubmit={onSubmit}\n                      disalbed={sending}\n                      selectedTokens={selectedTokens}\n                      setSelectedTokens={setSelectedTokens}\n                    />\n                  ))}\n              </ListCard>\n            </RowContainer>\n          </RowContainer>\n        ) : tab === 'erc20' ? (\n          <>\n            <InputWithPaste\n              placeholder={'ERC20 Contract Address'}\n              value={erc20Address}\n              onChange={(e) => setErc20Address(e.target.value.trim())}\n              autoFocus\n              disabled={sending}\n              onPasteClick={() =>\n                navigator.clipboard\n                  .readText()\n                  .then((clipText) => setMintAddress(clipText))\n              }\n            />\n            {erc20Address && valid ? (\n              <Link\n                href={`https://etherscan.io/token/${erc20Address}`}\n                target=\"_blank\"\n                rel=\"noopener\"\n              >\n                View on Etherscan\n              </Link>\n            ) : null}\n          </>\n        ) : null}\n        <RowContainer width=\"90%\" justify=\"space-between\" margin=\"2rem 0 0 0\">\n          <WhiteText theme={theme}>\n            Your SOL Balance:{' '}\n            <WhiteText\n              theme={theme}\n              style={{\n                color: isBalanceLowerCost\n                  ? theme.customPalette.red.main\n                  : theme.customPalette.green.light,\n              }}\n            >\n              {formatNumberToUSFormat(\n                stripDigitPlaces(amount / Math.pow(10, decimals), decimals),\n              )}{' '}\n              SOL\n            </WhiteText>\n          </WhiteText>\n          <WhiteText theme={theme}>\n            Cost: <GreenText theme={theme}>{cost} SOL</GreenText>\n          </WhiteText>\n        </RowContainer>\n        <RowContainer width=\"90%\" justify=\"space-between\" margin=\"2rem 0 0 0\">\n          <WhiteButton\n            width=\"calc(50% - .5rem)\"\n            theme={theme}\n            onClick={onClose}\n          >\n            Cancel\n          </WhiteButton>\n          <VioletButton\n            theme={theme}\n            width=\"calc(50% - .5rem)\"\n            disabled={isDisabled}\n            onClick={() => onSubmit()}\n          >\n            Add\n          </VioletButton>\n        </RowContainer>\n      </RowContainer>\n    </DialogForm>\n  );\n}\n\nexport function TokenListItem({\n  name: tokenName,\n  logoUri,\n  symbol: tokenSymbol,\n  mintAddress,\n  disabled,\n  existingAccount,\n  selectedTokens,\n  setSelectedTokens,\n}) {\n  const alreadyExists = !!existingAccount;\n\n  const theme = useTheme();\n  const selectedTokenIndex = selectedTokens.findIndex(\n    (token) => token.mintAddress === mintAddress,\n  );\n  const checked = selectedTokenIndex !== -1;\n  const isDisabled = disabled || alreadyExists;\n  const address = new PublicKey(mintAddress)\n\n  return (\n    <>\n      <RowContainer\n        key={`${tokenName}${tokenSymbol}${mintAddress}`}\n        justify=\"space-between\"\n        style={{\n          borderBottom: theme.customPalette.border.new,\n          cursor: 'pointer',\n        }}\n        onClick={() => {\n          if (isDisabled) return;\n\n          if (checked) {\n            setSelectedTokens([\n              ...selectedTokens.slice(0, selectedTokenIndex),\n              ...selectedTokens.slice(selectedTokenIndex + 1),\n            ]);\n          } else {\n            setSelectedTokens([\n              ...selectedTokens,\n              { tokenName, tokenSymbol, mintAddress },\n            ]);\n          }\n        }}\n      >\n        <Row>\n          <TokenIcon\n            tokenLogoUri={logoUri}\n            tokenName={tokenName}\n            size={'2rem'}\n          />\n          <WhiteText theme={theme} style={{ marginLeft: '1rem' }}>\n            {tokenName ?? abbreviateAddress(address)}\n            {tokenSymbol ? ` (${tokenSymbol})` : null}\n          </WhiteText>\n        </Row>\n        <StyledCheckbox\n          theme={theme}\n          checked={checked || isDisabled}\n          disabled={isDisabled}\n        />\n      </RowContainer>\n    </>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useTheme } from '@material-ui/core';\n\nimport { useBalanceInfo, useWallet } from '../../../utils/wallet';\nimport { Row, RowContainer, Title, ExclamationMark } from '../../commonStyles';\nimport { formatNumberToUSFormat, stripDigitPlaces } from '../../../utils/utils';\n\nimport AccountsSelector from './AccountsSelector'\nimport TotalBalance from './TotalBalance';\n\nconst AccountInfoContainer = styled(RowContainer)`\n  width: 100%;\n  height: auto;\n`;\n\nconst AccountInfo = () => {\n  const theme = useTheme();\n  const wallet = useWallet();\n\n  const balanceInfo = useBalanceInfo(wallet.publicKey);\n  let { amount, decimals } = balanceInfo || {\n    amount: 0,\n    decimals: 8,\n    mint: null,\n    tokenName: 'Loading...',\n    tokenSymbol: '--',\n  };\n\n  return (\n    <AccountInfoContainer padding=\"5rem 4rem\">\n      <Row\n        width=\"40%\"\n        height=\"100%\"\n        direction=\"column\"\n        align=\"flex-start\"\n        justify=\"space-between\"\n      >\n        <AccountsSelector />\n        <Title\n          style={{ position: 'relative' }}\n          color={theme.customPalette.grey.light}\n        >\n          {wallet.publicKey.toBase58()}\n        </Title>\n      </Row>\n      <Row width=\"60%\" height=\"100%\" justify=\"flex-end\">\n        <Row\n          width=\"26rem\"\n          height=\"100%\"\n          margin=\"0 2rem 0 0\"\n          padding=\"1rem 1.5rem\"\n          direction=\"column\"\n          align=\"flex-start\"\n          justify=\"space-between\"\n          style={{\n            background: 'linear-gradient(135deg, #1331AD 0%, #95363F 100%)',\n            borderRadius: '1.2rem',\n          }}\n        >\n          <Title\n            fontSize=\"1.4rem\"\n            fontFamily={'Avenir Next Demi'}\n            color={theme.customPalette.grey.light}\n          >\n            Total Balance\n          </Title>\n          <Title fontSize=\"2.4rem\" fontFamily={'Avenir Next Demi'}>\n            <TotalBalance key=\"navbarfalse\" isNavbar={false} />\n          </Title>\n        </Row>\n        <Row\n          width=\"26rem\"\n          height=\"100%\"\n          margin=\"0 4rem 0 0\"\n          padding=\"1rem 1.5rem\"\n          direction=\"column\"\n          align=\"flex-start\"\n          justify=\"space-between\"\n          style={{\n            background: 'linear-gradient(135deg, #1331AD 0%, #3B8D17 100%)',\n            borderRadius: '1.2rem',\n          }}\n        >\n          <Title\n            fontSize=\"1.4rem\"\n            fontFamily={'Avenir Next Demi'}\n            color={theme.customPalette.grey.light}\n          >\n            SOL Balance\n          </Title>\n          <Title fontSize=\"2.4rem\" fontFamily={'Avenir Next Demi'}>\n            {formatNumberToUSFormat(\n              stripDigitPlaces(amount / Math.pow(10, decimals), 8),\n            )}{' '}\n            SOL\n          </Title>\n        </Row>\n        <Row height=\"100%\">\n          <Row\n            height=\"100%\"\n            direction=\"column\"\n            justify=\"space-around\"\n            align=\"flex-start\"\n          >\n            <Title\n              fontFamily=\"Avenir Next\"\n              fontSize=\"1.4rem\"\n              color={theme.customPalette.orange.dark}\n              style={{ whiteSpace: 'nowrap' }}\n            >\n              SOL is the fuel for transactions on Solana.\n            </Title>\n            <Title\n              fontFamily=\"Avenir Next\"\n              fontSize=\"1.4rem\"\n              color={theme.customPalette.orange.dark}\n              style={{ whiteSpace: 'nowrap' }}\n            >\n              You must have some SOL in your wallet for\n            </Title>\n            <Title\n              fontFamily=\"Avenir Next\"\n              fontSize=\"1.4rem\"\n              color={theme.customPalette.orange.dark}\n              style={{ whiteSpace: 'nowrap' }}\n            >\n              DEX trading or other transactions.\n            </Title>\n          </Row>\n          <ExclamationMark\n            theme={theme}\n            margin={'0 0 0 2rem'}\n            fontSize=\"7rem\"\n          />\n        </Row>\n      </Row>\n    </AccountInfoContainer>\n  );\n};\n\nexport default React.memo(AccountInfo, (prev, next) => {\n  return true\n});\n\n","import React from 'react';\nimport { useTheme } from '@material-ui/core';\nimport { TableContainer, HeadRow, GreyTitle } from './AssetsTable';\nimport { RowContainer, Title } from '../../commonStyles';\n\nconst ActivityTable = () => {\n  const theme = useTheme();\n  return (\n    <TableContainer\n      theme={theme}\n      width=\"calc(15% - 1rem)\"\n      direction=\"column\"\n    >\n      <RowContainer height=\"5rem\">\n        <HeadRow\n          theme={theme}\n          justify=\"flex-start\"\n          style={{ width: '100%', padding: '1.4rem 0 1.4rem 2.4rem' }}\n        >\n          <GreyTitle theme={theme}>Activity</GreyTitle>\n        </HeadRow>\n      </RowContainer>\n      <RowContainer height=\"100%\">\n        <Title>\n          Coming Soon\n        </Title>\n      </RowContainer>\n    </TableContainer>\n  );\n};\n\nexport default ActivityTable;\n","export const showTokenInfoDialog = !!localStorage.getItem(\n  'showTokenInfoDialog',\n);\n\nexport const showSwapAddress = true;\n","import React, { useEffect, useState } from 'react';\nimport Web3 from 'web3';\nimport ERC20_ABI from './erc20-abi.json';\nimport SWAP_ABI from './swap-abi.json';\nimport { useCallAsync } from '../notifications';\nimport { VioletButton } from '../../pages/commonStyles';\nimport { useTheme } from '@material-ui/core';\nimport { isExtension } from '../utils';\n\nconst web3 = new Web3(window.ethereum);\n// Change to use estimated gas limit\nconst SUGGESTED_GAS_LIMIT = 200000;\n\nexport function useEthAccount() {\n  const [account, setAccount] = useState(null);\n\n  useEffect(() => {\n    if (!window.ethereum) {\n      return;\n    }\n    const onChange = (accounts) =>\n      setAccount(accounts.length > 0 ? accounts[0] : null);\n    window.ethereum.request({ method: 'eth_accounts' }).then(onChange);\n    window.ethereum.on('accountsChanged', onChange);\n    return () => { \n      if (!window.ethereum) {\n        window.ethereum.removeListener('accountsChanged', onChange);\n      }\n    }\n  }, []);\n\n  return account;\n}\n\nexport async function getErc20Balance(account, erc20Address) {\n  if (!erc20Address) {\n    return parseInt(await web3.eth.getBalance(account)) / 1e18;\n  }\n\n  const erc20 = new web3.eth.Contract(ERC20_ABI, erc20Address);\n  const [value, decimals] = await Promise.all([\n    erc20.methods.balanceOf(account).call(),\n    erc20.methods.decimals().call(),\n  ]);\n  return parseInt(value, 10) / 10 ** parseInt(decimals, 10);\n}\n\nexport async function estimateErc20SwapFees({\n  erc20Address,\n  swapAddress,\n  ethAccount,\n}) {\n  if (!erc20Address) {\n    return estimateEthSwapFees({ swapAddress });\n  }\n\n  const erc20 = new web3.eth.Contract(ERC20_ABI, erc20Address);\n  const decimals = parseInt(await erc20.methods.decimals().call(), 10);\n\n  const approveAmount = addDecimals('100000000', decimals);\n\n  let approveEstimatedGas = await erc20.methods\n    .approve(swapAddress, approveAmount)\n    .estimateGas({ from: ethAccount });\n  // Account for Metamask over-estimation\n  approveEstimatedGas *= 1.5;\n\n  // Use estimated gas limit for now\n  const swapEstimatedGas = SUGGESTED_GAS_LIMIT;\n\n  const gasPrice = (await web3.eth.getGasPrice()) * 1e-18;\n\n  return [approveEstimatedGas * gasPrice, swapEstimatedGas * gasPrice];\n}\n\nexport async function estimateEthSwapFees() {\n  const estimatedGas = SUGGESTED_GAS_LIMIT;\n\n  const gasPrice = (await web3.eth.getGasPrice()) * 1e-18;\n\n  return estimatedGas * gasPrice;\n}\n\nexport async function swapErc20ToSpl({\n  ethAccount,\n  erc20Address,\n  swapAddress,\n  destination,\n  amount, // string\n  onStatusChange,\n}) {\n  if (!erc20Address) {\n    return swapEthToSpl({\n      ethAccount,\n      swapAddress,\n      destination,\n      amount,\n      onStatusChange,\n    });\n  }\n\n  const erc20 = new web3.eth.Contract(ERC20_ABI, erc20Address);\n  const swap = new web3.eth.Contract(SWAP_ABI, swapAddress);\n  const decimals = parseInt(await erc20.methods.decimals().call(), 10);\n\n  const encodedAmount = addDecimals(amount, decimals);\n\n  const approveTx = erc20.methods\n    .approve(swapAddress, encodedAmount)\n    .send({ from: ethAccount });\n  await waitForTxid(approveTx);\n\n  onStatusChange({ step: 1 });\n\n  const swapTx = swap.methods\n    .swapErc20(erc20Address, destination, encodedAmount)\n    .send({ from: ethAccount, gasLimit: SUGGESTED_GAS_LIMIT });\n  const swapTxid = await waitForTxid(swapTx);\n\n  onStatusChange({ step: 2, txid: swapTxid, confirms: 0 });\n\n  await Promise.all([\n    approveTx,\n    swapTx,\n    waitForConfirms(swapTx, onStatusChange),\n  ]);\n\n  onStatusChange({ step: 3 });\n}\n\nexport async function swapEthToSpl({\n  ethAccount,\n  swapAddress,\n  destination,\n  amount,\n  onStatusChange,\n}) {\n  const swap = new web3.eth.Contract(SWAP_ABI, swapAddress);\n\n  const encodedAmount = addDecimals(amount, 18);\n  const swapTx = swap.methods\n    .swapEth(destination)\n    .send({ from: ethAccount, value: encodedAmount });\n  const swapTxid = await waitForTxid(swapTx);\n\n  onStatusChange({ step: 2, txid: swapTxid, confirms: 0 });\n\n  await Promise.all([swapTx, waitForConfirms(swapTx, onStatusChange)]);\n\n  onStatusChange({ step: 3 });\n}\n\nfunction addDecimals(str, decimals) {\n  if (!/^\\d*\\.?\\d*$/.test(str)) {\n    throw new Error('Invalid number');\n  }\n  if (!str.includes('.')) {\n    str += '.';\n  }\n  let [intStr, fractionStr] = str.split('.');\n  if (fractionStr.length > decimals) {\n    fractionStr = fractionStr.slice(0, decimals);\n  } else {\n    fractionStr += '0'.repeat(decimals - fractionStr.length);\n  }\n  return (intStr + fractionStr).replace(/^0+/, '') || '0';\n}\n\nconst pendingNonces = new Set();\n\nexport async function withdrawEth(from, withdrawal, callAsync) {\n  const { params, signature } = withdrawal.txData;\n  const swap = new web3.eth.Contract(SWAP_ABI, params[1]);\n  let method, nonce;\n  if (params[0] === 'withdrawErc20') {\n    method = swap.methods.withdrawErc20(\n      params[2],\n      params[3],\n      params[4],\n      params[5],\n      signature,\n    );\n    nonce = params[5];\n  } else if (params[0] === 'withdrawEth') {\n    method = swap.methods.withdrawEth(\n      params[2],\n      params[3],\n      params[4],\n      signature,\n    );\n    nonce = params[4];\n  } else {\n    return;\n  }\n  if (pendingNonces.has(nonce)) {\n    return;\n  }\n  try {\n    await method.estimateGas();\n  } catch (e) {\n    return;\n  }\n  pendingNonces.add(nonce);\n  await callAsync(method.send({ from, gasLimit: SUGGESTED_GAS_LIMIT }), {\n    progressMessage: `Completing ${withdrawal.coin.ticker} transfer...`,\n  });\n  pendingNonces.delete(nonce);\n}\n\nfunction waitForTxid(tx) {\n  return new Promise((resolve, reject) => {\n    tx.once('transactionHash', resolve).catch(reject);\n  });\n}\n\nfunction waitForConfirms(tx, onStatusChange) {\n  return new Promise((resolve, reject) => {\n    let resolved = false;\n    tx.on('confirmation', (confirms, receipt) => {\n      if (!resolved) {\n        onStatusChange({ confirms: confirms + 1 });\n        if (!receipt.status) {\n          reject('Transaction failed');\n          resolved = true;\n        } else if (confirms >= 11) {\n          resolve();\n          resolved = true;\n        }\n      }\n    });\n  });\n}\n\nexport function ConnectToMetamaskButton() {\n  const callAsync = useCallAsync();\n  const theme = useTheme()\n\n  if (!window.ethereum) {\n    return (\n      <VioletButton\n        theme={theme}\n        component=\"a\"\n        href={isExtension ? 'https://wallet.cryptocurrencies.ai' : 'https://metamask.io/'}\n        target=\"_blank\"\n        rel=\"noopener\"\n        width={'calc(50% - .5rem)'}\n      >\n        {isExtension ? 'Open CCAI Wallet' : 'Connect to MetaMask'}\n      </VioletButton>\n    );\n  }\n\n  function connect() {\n    callAsync(\n      window.ethereum.request({\n        method: 'eth_requestAccounts',\n      }),\n      {\n        progressMessage: 'Connecting to MetaMask...',\n        successMessage: 'Connected to MetaMask',\n      },\n    );\n  }\n\n  return (\n    <VioletButton theme={theme} width={'calc(50% - .5rem)'} onClick={connect}>\n      Connect to MetaMask\n    </VioletButton>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport DialogForm from './DialogForm';\nimport {\n  useBalanceInfo,\n  useWallet,\n  useWalletAddressForMint,\n} from '../../../utils/wallet';\nimport { PublicKey } from '@solana/web3.js';\nimport { useCallAsync, useSendTransaction } from '../../../utils/notifications';\nimport { swapApiRequest, useSwapApiGet } from '../../../utils/swap/api';\nimport { showSwapAddress } from '../../../utils/config';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport {\n  ConnectToMetamaskButton,\n  // getErc20Balance,\n  useEthAccount,\n  withdrawEth,\n} from '../../../utils/swap/eth';\nimport { useConnection, useIsProdNetwork } from '../../../utils/connection';\n// import Link from '@material-ui/core/Link';\n// import Typography from '@material-ui/core/Typography';\nimport { useAsyncData } from '../../../utils/fetch-loop';\n// import CircularProgress from '@material-ui/core/CircularProgress';\nimport {\n  TOKEN_PROGRAM_ID,\n  WRAPPED_SOL_MINT,\n} from '../../../utils/tokens/instructions';\nimport { parseTokenAccountData } from '../../../utils/tokens/data';\nimport { useTheme } from '@material-ui/core';\n// import { EthFeeEstimate } from '../../../components/EthFeeEstimate';\nimport {\n  RowContainer,\n  StyledCheckbox,\n  StyledLabel,\n  Title,\n  VioletButton,\n  WhiteButton,\n} from '../../commonStyles';\nimport { InputWithMax, InputWithPaste } from '../../../components/Input';\nimport AttentionComponent from '../../../components/Attention';\n// import { StyledTab, StyledTabs } from '../styles';\nimport FakeInputs from '../../../components/FakeInputs';\nimport ProgressBar from '../../CreateWallet/components/ProgressBar';\nimport { StyledTab, StyledTabs } from '../styles';\nimport { useSnackbar } from 'notistack';\nimport { stripDigitPlaces } from '../../../utils/utils';\n\nconst WUSDC_MINT = new PublicKey(\n  'BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW',\n);\nconst USDC_MINT = new PublicKey('EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v');\n\nconst WUSDT_MINT = new PublicKey(\n  'BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4',\n);\n\nconst USDT_MINT = new PublicKey('Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB');\n\nconst getTabs = (mint, swapCoinInfo, theme) => {\n  if (mint?.equals(WUSDC_MINT)) {\n    return [\n      <StyledTab theme={theme} label=\"SPL WUSDC\" key=\"spl\" value=\"spl\" />,\n      <StyledTab\n        theme={theme}\n        label=\"SPL USDC\"\n        key=\"wusdcToSplUsdc\"\n        value=\"wusdcToSplUsdc\"\n      />,\n      // <StyledTab label=\"ERC20 USDC\" key=\"swap\" value=\"swap\" />,\n    ];\n  } else if (mint?.equals(WUSDT_MINT)) {\n    return [\n      <StyledTab theme={theme} label=\"SPL WUSDT\" key=\"spl\" value=\"spl\" />,\n      <StyledTab\n        theme={theme}\n        label=\"SPL USDT\"\n        key=\"wusdtToSplUsdt\"\n        value=\"wusdtToSplUsdt\"\n      />,\n      // <StyledTab label=\"ERC20 USDT\" key=\"swap\" value=\"swap\" />,\n    ];\n  } else {\n    return [\n      <StyledTab\n        theme={theme}\n        label={`SPL ${swapCoinInfo.ticker}`}\n        key=\"spl\"\n        value=\"spl\"\n      />,\n      // <StyledTab\n      //   label={`${\n      //     swapCoinInfo.erc20Contract ? 'ERC20' : 'Native'\n      //   } ${swapCoinInfo.ticker}`}\n      //   key=\"swap\"\n      //   value=\"swap\"\n      // />,\n    ];\n  }\n};\n\nexport default function SendDialog({ open, onClose, publicKey }) {\n  const balanceInfo = useBalanceInfo(publicKey) || {\n    amount: 0,\n    decimals: 8,\n    mint: null,\n    tokenName: 'Loading...',\n    tokenSymbol: '--',\n  };\n\n  const isProdNetwork = useIsProdNetwork();\n  const [tab, setTab] = useState('spl');\n\n  const [swapCoinInfo] = useSwapApiGet(\n    showSwapAddress && balanceInfo.mint && isProdNetwork\n      ? `coins/sol/${balanceInfo.mint.toBase58()}`\n      : null,\n  );\n  const ethAccount = useEthAccount();\n\n  const { mint, tokenSymbol } = balanceInfo;\n  const theme = useTheme();\n  const tokenSymbolForCheck =\n    tokenSymbol === 'wUSDT' || tokenSymbol === 'wUSDC'\n      ? tokenSymbol.replace('w', 'Wrapped ')\n      : tokenSymbol;\n\n  return (\n    <>\n      <DialogForm\n        open={open}\n        theme={theme}\n        onClose={onClose}\n        onEnter={() => {\n          setTab('spl');\n        }}\n        height={'auto'}\n        padding={'2rem 0'}\n      >\n        <>\n          <FakeInputs />\n          <RowContainer>\n            <Title fontSize=\"1.6rem\">\n              Send {tokenSymbolForCheck ? ` ${tokenSymbolForCheck} to` : null}\n            </Title>\n            {/* {ethAccount && (\n              <div>\n                <Typography color=\"textSecondary\" style={{ fontSize: '14px' }}>\n                  Metamask connected: {ethAccount}\n                </Typography>\n              </div>\n            )} */}\n          </RowContainer>\n          {mint?.equals(WUSDC_MINT) || mint?.equals(WUSDT_MINT) ? (\n            <StyledTabs\n              value={tab}\n              theme={theme}\n              variant=\"fullWidth\"\n              onChange={(e, value) => setTab(value)}\n              textColor=\"primary\"\n              indicatorColor=\"primary\"\n            >\n              {getTabs(mint, swapCoinInfo, theme)}\n            </StyledTabs>\n          ) : null}\n          {tab === 'spl' ? (\n            <SendSplDialog\n              onClose={onClose}\n              publicKey={publicKey}\n              balanceInfo={balanceInfo}\n            />\n          ) : tab === 'wusdcToSplUsdc' ? (\n            <SendSwapDialog\n              key={tab}\n              ethAccount={''}\n              tab={tab}\n              onClose={onClose}\n              publicKey={publicKey}\n              balanceInfo={balanceInfo}\n              swapCoinInfo={swapCoinInfo}\n              wusdcToSplUsdc\n            />\n          ) : tab === 'wusdtToSplUsdt' ? (\n            <SendSwapDialog\n              key={tab}\n              onClose={onClose}\n              ethAccount={''}\n              tab={tab}\n              publicKey={publicKey}\n              balanceInfo={balanceInfo}\n              swapCoinInfo={swapCoinInfo}\n              wusdtToSplUsdt\n            />\n          ) : (\n            <SendSwapDialog\n              key={tab}\n              tab={tab}\n              onClose={onClose}\n              publicKey={publicKey}\n              balanceInfo={balanceInfo}\n              swapCoinInfo={swapCoinInfo}\n              ethAccount={ethAccount}\n            />\n          )}\n        </>\n      </DialogForm>\n      {ethAccount &&\n      (swapCoinInfo?.blockchain === 'eth' || swapCoinInfo?.erc20Contract) ? (\n        <EthWithdrawalCompleter ethAccount={ethAccount} publicKey={publicKey} />\n      ) : null}\n    </>\n  );\n}\n\nfunction SendSplDialog({ onClose, publicKey, balanceInfo }) {\n  const defaultAddressHelperText =\n    !balanceInfo.mint || balanceInfo.mint.equals(WRAPPED_SOL_MINT)\n      ? 'Enter Solana Address'\n      : 'Enter SPL token or Solana address';\n\n  const wallet = useWallet();\n  const [sendTransaction, sending] = useSendTransaction();\n  const [addressHelperText, setAddressHelperText] = useState(\n    defaultAddressHelperText,\n  );\n  const [passValidation, setPassValidation] = useState<undefined | boolean>(\n    undefined,\n  );\n  const [overrideDestinationCheck, setOverrideDestinationCheck] = useState(\n    false,\n  );\n  const [shouldShowOverride, setShouldShowOverride] = useState<\n    undefined | boolean\n  >(undefined);\n  const {\n    fields,\n    destinationAddress,\n    transferAmountString,\n    validAmount,\n  } = useForm(balanceInfo, addressHelperText, passValidation, 'spl', false);\n  const { decimals, mint } = balanceInfo;\n  const mintString = mint && mint.toBase58();\n\n  const theme = useTheme();\n\n  useEffect(() => {\n    (async () => {\n      if (!destinationAddress) {\n        setAddressHelperText(defaultAddressHelperText);\n        setPassValidation(undefined);\n        setShouldShowOverride(undefined);\n        return;\n      }\n      try {\n        const destinationAccountInfo = await wallet.connection.getAccountInfo(\n          new PublicKey(destinationAddress),\n        );\n        setShouldShowOverride(false);\n\n        if (destinationAccountInfo.owner.equals(TOKEN_PROGRAM_ID)) {\n          const accountInfo = parseTokenAccountData(\n            destinationAccountInfo.data,\n          );\n          if (accountInfo.mint.toBase58() === mintString) {\n            setPassValidation(true);\n            setAddressHelperText('Address is a valid SPL token address');\n          } else {\n            setPassValidation(false);\n            setAddressHelperText('Destination address mint does not match');\n          }\n        } else {\n          setPassValidation(true);\n          setAddressHelperText('Destination is a Solana address');\n        }\n      } catch (e) {\n        console.log(`Received error validating address ${e}`);\n        setAddressHelperText(defaultAddressHelperText);\n        setShouldShowOverride(true);\n        setPassValidation(undefined);\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [destinationAddress, wallet, mintString]);\n\n  async function makeTransaction() {\n    let amount = Math.round(parseFloat(transferAmountString) * 10 ** decimals);\n    if (!amount || amount <= 0) {\n      throw new Error('Invalid amount');\n    }\n    return wallet.transferToken(\n      publicKey,\n      new PublicKey(destinationAddress),\n      amount,\n      balanceInfo.mint,\n      null,\n      overrideDestinationCheck,\n    );\n  }\n\n  const disabled = shouldShowOverride\n    ? !overrideDestinationCheck || sending || !validAmount\n    : sending || !validAmount;\n\n  async function onSubmit() {\n    return (\n      typeof sendTransaction === 'function' &&\n      sendTransaction(makeTransaction(), {\n        onSuccess: onClose,\n        onError: () => {},\n      })\n    );\n  }\n\n  return (\n    <>\n      <RowContainer width=\"90%\" direction=\"column\">\n        {fields}\n        {shouldShowOverride && (\n          <RowContainer\n            margin={'0 0 2rem 0'}\n            style={{\n              alignItems: 'center',\n              display: 'flex',\n              textAlign: 'left',\n            }}\n          >\n            <StyledLabel theme={theme} htmlFor={'overrideDestinationCheck'}>\n              This address has no funds. Are you sure it's correct?\n            </StyledLabel>\n            <StyledCheckbox\n              theme={theme}\n              id={'overrideDestinationCheck'}\n              checked={overrideDestinationCheck}\n              onChange={() =>\n                setOverrideDestinationCheck(!overrideDestinationCheck)\n              }\n            />\n          </RowContainer>\n        )}\n        <RowContainer justify=\"space-between\">\n          <WhiteButton\n            theme={theme}\n            onClick={onClose}\n            width=\"calc(50% - .5rem)\"\n          >\n            Cancel\n          </WhiteButton>\n          <VioletButton\n            theme={theme}\n            type=\"submit\"\n            color=\"primary\"\n            width=\"calc(50% - .5rem)\"\n            disabled={!!disabled}\n            onClick={onSubmit}\n          >\n            Send\n          </VioletButton>\n        </RowContainer>\n      </RowContainer>\n    </>\n  );\n}\n\nfunction SendSwapDialog({\n  tab,\n  onClose,\n  publicKey,\n  balanceInfo,\n  swapCoinInfo,\n  ethAccount,\n  wusdcToSplUsdc = false,\n  wusdtToSplUsdt = false,\n}) {\n  const wallet = useWallet();\n  const [sendTransaction, sending] = useSendTransaction();\n  const [signature, setSignature] = useState(null);\n  const {\n    fields,\n    destinationAddress,\n    transferAmountString,\n    setDestinationAddress,\n    validAmount,\n  } = useForm(balanceInfo, '', true, tab, swapCoinInfo?.erc20Contract);\n\n  const theme = useTheme();\n\n  const { tokenName, decimals, mint } = balanceInfo;\n  const blockchain =\n    wusdcToSplUsdc || wusdtToSplUsdt\n      ? 'sol'\n      : swapCoinInfo?.blockchain === 'sol'\n      ? 'eth'\n      : swapCoinInfo?.blockchain;\n  const needMetamask = blockchain === 'eth';\n\n  // const [ethBalance] = useAsyncData(\n  //   () => getErc20Balance(ethAccount),\n  //   'ethBalance',\n  //   {\n  //     refreshInterval: 2000,\n  //   },\n  // );\n\n  // const ethFeeData = useSwapApiGet(\n  //   blockchain === 'eth' &&\n  //     `fees/eth/${ethAccount}` +\n  //       (swapCoinInfo?.erc20Contract ? '/' + swapCoinInfo?.erc20Contract : ''),\n  //   { refreshInterval: 2000 },\n  // );\n  // const [ethFeeEstimate] = ethFeeData;\n  // const insufficientEthBalance =\n  //   typeof ethBalance === 'number' &&\n  //   typeof ethFeeEstimate === 'number' &&\n  //   ethBalance < ethFeeEstimate;\n\n  // useEffect(() => {\n  //   if (blockchain === 'eth' && ethAccount) {\n  //     setDestinationAddress(ethAccount);\n  //   }\n  // }, [blockchain, ethAccount, setDestinationAddress]);\n\n  let splUsdcWalletAddress = useWalletAddressForMint(\n    wusdcToSplUsdc ? USDC_MINT : null,\n  );\n  let splUsdtWalletAddress = useWalletAddressForMint(\n    wusdtToSplUsdt ? USDT_MINT : null,\n  );\n\n  useEffect(() => {\n    if (wusdcToSplUsdc && splUsdcWalletAddress) {\n      setDestinationAddress(splUsdcWalletAddress);\n    }\n  }, [\n    setDestinationAddress,\n    wusdcToSplUsdc,\n    splUsdcWalletAddress,\n    wusdtToSplUsdt,\n    splUsdtWalletAddress,\n  ]);\n\n  async function makeTransaction() {\n    let amount = Math.round(parseFloat(transferAmountString) * 10 ** decimals);\n    if (!amount || amount <= 0) {\n      throw new Error('Invalid amount');\n    }\n    const params: any = {\n      blockchain,\n      address: destinationAddress,\n      size: amount / 10 ** decimals,\n    };\n    if (blockchain === 'sol') {\n      params.coin = swapCoinInfo?.splMint;\n    } else if (blockchain === 'eth') {\n      params.coin = swapCoinInfo?.erc20Contract;\n    }\n    if (mint?.equals(WUSDC_MINT)) {\n      params.wusdcToUsdc = true;\n    } else if (mint?.equals(WUSDT_MINT)) {\n      params.wusdtToUsdt = true;\n    }\n    const swapInfo = await swapApiRequest('POST', 'swap_to', params);\n    if (swapInfo.blockchain !== 'sol') {\n      throw new Error('Unexpected blockchain');\n    }\n    return wallet.transferToken(\n      publicKey,\n      new PublicKey(swapInfo.address),\n      amount,\n      balanceInfo.mint,\n      swapInfo.memo,\n    );\n  }\n\n  async function onSubmit() {\n    return (\n      typeof sendTransaction === 'function' &&\n      sendTransaction(makeTransaction(), {\n        onSuccess: setSignature,\n        onError: (e) => {\n          console.log('error', e);\n        },\n      })\n    );\n  }\n\n  if (signature) {\n    return (\n      <SendSwapProgress\n        key={signature}\n        publicKey={publicKey}\n        signature={signature}\n        blockchain={blockchain}\n        onClose={onClose}\n      />\n    );\n  }\n\n  let sendButton = (\n    <VioletButton\n      type=\"submit\"\n      color=\"primary\"\n      theme={theme}\n      width=\"calc(50% - .5rem)\"\n      disabled={\n        !!(\n          (sending || !validAmount)\n          // || insufficientEthBalance || (needMetamask && !ethAccount)\n        )\n      }\n      onClick={onSubmit}\n    >\n      Send\n    </VioletButton>\n  );\n\n  return (\n    <>\n      <RowContainer width=\"90%\" direction=\"column\" margin=\"2rem 0 0 0\">\n        <Title>\n          SPL {tokenName} can be converted to{' '}\n          {blockchain === 'eth' && swapCoinInfo?.erc20Contract\n            ? 'ERC20'\n            : blockchain === 'sol' && swapCoinInfo?.splMint\n            ? 'SPL'\n            : 'native'}{' '}\n          {swapCoinInfo?.ticker}\n          {needMetamask ? ' via MetaMask' : null}.\n        </Title>\n        {/* {blockchain === 'eth' && (\n          <Title>\n            Estimated withdrawal transaction fee:\n            <EthFeeEstimate\n              ethFeeData={ethFeeData}\n              insufficientEthBalance={insufficientEthBalance}\n            />\n          </Title>\n        )} */}\n        {needMetamask && !ethAccount ? <ConnectToMetamaskButton /> : fields}\n        {/* {insufficientEthBalance && (\n          <RowContainer margin=\"2rem 0 0 0\">\n            <Title color={theme.customPalette.red.main}>\n              Insufficient {swapCoinInfo?.ticker} for withdrawal transaction fee\n            </Title>\n          </RowContainer>\n        )} */}\n        <RowContainer\n          justify=\"space-between\"\n          margin={\n            !ethAccount &&\n            // || insufficientEthBalance\n            '2rem 0 0 0'\n          }\n        >\n          <WhiteButton\n            theme={theme}\n            onClick={onClose}\n            width=\"calc(50% - .5rem)\"\n          >\n            Cancel\n          </WhiteButton>\n          {sendButton}\n        </RowContainer>\n      </RowContainer>\n    </>\n  );\n}\n\nfunction SendSwapProgress({ publicKey, signature, onClose, blockchain }) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [showResult, setShowResult] = useState(false);\n  const [showedResult, setIsResultShowed] = useState(false);\n\n  const connection = useConnection();\n  const theme = useTheme();\n  const [swaps] = useSwapApiGet(`swaps_from/sol/${publicKey.toBase58()}`, {\n    refreshInterval: 1000,\n  });\n  const [confirms] = useAsyncData(\n    async () => {\n      const { value } = await connection.getSignatureStatus(signature);\n      return value?.confirmations;\n    },\n    [connection.getSignatureStatus, signature],\n    { refreshInterval: 2000 },\n  );\n  useEffect(() => {\n    if (showResult && !showedResult) {\n      setIsResultShowed(true);\n      enqueueSnackbar('Success!', { variant: 'success' });\n      onClose();\n    }\n  }, [showResult, enqueueSnackbar, onClose, showedResult]);\n\n  let step = 1;\n  let ethTxid = null;\n  for (let swap of swaps || []) {\n    const { deposit, withdrawal } = swap;\n    if (deposit.txid === signature) {\n      if (withdrawal.txid?.startsWith('0x')) {\n        step = 3;\n        ethTxid = withdrawal.txid;\n        if (!showResult) {\n          setShowResult(true);\n        }\n      } else if (withdrawal.txid && blockchain !== 'eth') {\n        step = 3;\n        if (!showResult) {\n          setShowResult(true);\n        }\n      } else {\n        step = 2;\n      }\n    }\n  }\n\n  const stepToShow =\n    confirms && confirms > 0 // we confirms - 2 step\n      ? 2\n      : confirms === null || step === 3 // null - done, show filled 3 step\n      ? 4\n      : step; // otherwise step 1\n\n  return (\n    <>\n      <RowContainer direction=\"column\">\n        <ProgressBar\n          currentStep={stepToShow}\n          firstStepText={'Send Request'}\n          secondStepText={\n            confirms\n              ? `Wait for Confirmations (${confirms}/35)`\n              : 'Transaction Pending'\n          }\n          thirdStepText={'Withdraw Funds'}\n          style={{ padding: '7rem 0 10rem 0' }}\n        />\n        {!ethTxid && blockchain === 'eth' ? (\n          <DialogContentText style={{ marginTop: 16, marginBottom: 0 }}>\n            Please keep this window open. You will need to approve the request\n            on MetaMask to complete the transaction.\n          </DialogContentText>\n        ) : null}\n        <WhiteButton\n          theme={theme}\n          onClick={onClose}\n          style={{ display: 'flex', flexDirection: 'column' }}\n        >\n          Close Popup\n          <span style={{ fontSize: '.9rem' }}>\n            (the conversion process will not be stopped)\n          </span>\n        </WhiteButton>\n      </RowContainer>\n    </>\n  );\n}\n\nfunction useForm(\n  balanceInfo,\n  addressHelperText = '',\n  passAddressValidation = true,\n  tab = 'spl',\n  erc20Contract = true,\n) {\n  const [destinationAddress, setDestinationAddress] = useState('');\n  const [transferAmountString, setTransferAmountString] = useState('');\n  const { amount: balanceAmount, decimals, tokenSymbol } = balanceInfo;\n\n  const parsedAmount = parseFloat(transferAmountString) * 10 ** decimals;\n  const validAmount = parsedAmount > 0 && parsedAmount <= balanceAmount;\n  const theme = useTheme();\n  const tokenSymbolForCheck =\n    tokenSymbol === 'wUSDT' || tokenSymbol === 'wUSDC'\n      ? tokenSymbol.replace('w', 'Wrapped ')\n      : tokenSymbol;\n\n  const isConvertTab = tab === 'wusdcToSplUsdc' || tab === 'wusdtToSplUsdt';\n  let maxBalance = String(\n    stripDigitPlaces(balanceAmountToUserAmount(balanceAmount, decimals), 8),\n  );\n\n  // minus fee for transfering\n  if (tokenSymbol === 'SOL') {\n    maxBalance = String(\n      stripDigitPlaces(parseFloat(String(maxBalance)) - 0.000005, 8),\n    );\n  }\n\n  const fields = (\n    <>\n      <RowContainer margin=\"2rem 0\">\n        <InputWithPaste\n          placeholder=\"Recipient Address\"\n          type=\"text\"\n          style={{ fontSize: '1.2rem' }}\n          containerStyle={{ width: '100%' }}\n          onChange={(e) => setDestinationAddress(e.target.value)}\n          value={destinationAddress}\n          onPasteClick={() =>\n            navigator.clipboard\n              .readText()\n              .then((clipText) => setDestinationAddress(clipText))\n          }\n        />\n      </RowContainer>\n\n      {!passAddressValidation && (\n        <RowContainer margin=\"0 0 2rem 0\">\n          <Title fontSize=\"1.4rem\" color={theme.customPalette.red.main}>\n            {addressHelperText}\n          </Title>\n        </RowContainer>\n      )}\n\n      <RowContainer>\n        <AttentionComponent\n          blockHeight=\"8rem\"\n          iconStyle={{ margin: '0 2rem 0 3rem' }}\n          textStyle={{\n            fontSize: '1.4rem',\n          }}\n          text={`Please make sure that you sending funds to the ${\n            isConvertTab\n              ? ` Native ${tokenSymbol.replace('w', '')}`\n              : tokenSymbolForCheck\n          } address in the ${\n            tab === 'spl' ? 'SPL' : erc20Contract ? 'ERC20' : 'Native'\n          } network.`}\n        />\n      </RowContainer>\n\n      <RowContainer margin=\"2rem 0\">\n        <InputWithMax\n          placeholder=\"Amount\"\n          type=\"text\"\n          containerStyle={{ width: '100%' }}\n          onChange={(e) => setTransferAmountString(e.target.value)}\n          value={transferAmountString}\n          onMaxClick={() => setTransferAmountString(maxBalance)}\n          maxText={`${maxBalance} ${tokenSymbol ? tokenSymbolForCheck : null}`}\n        />\n      </RowContainer>\n    </>\n  );\n\n  return {\n    fields,\n    destinationAddress,\n    transferAmountString,\n    setDestinationAddress,\n    validAmount,\n  };\n}\n\nfunction balanceAmountToUserAmount(balanceAmount, decimals) {\n  return (balanceAmount / Math.pow(10, decimals)).toFixed(decimals);\n}\n\nfunction EthWithdrawalCompleter({ ethAccount, publicKey }) {\n  const [swaps] = useSwapApiGet(`swaps_from/sol/${publicKey.toBase58()}`, {\n    refreshInterval: 10000,\n  });\n  if (!swaps) {\n    return null;\n  }\n  return swaps.map((swap) => (\n    <EthWithdrawalCompleterItem\n      key={swap.deposit.txid}\n      ethAccount={ethAccount}\n      swap={swap}\n    />\n  ));\n}\n\nfunction EthWithdrawalCompleterItem({ ethAccount, swap }) {\n  const callAsync = useCallAsync();\n  const { withdrawal } = swap;\n  useEffect(() => {\n    if (\n      withdrawal.status === 'sent' &&\n      withdrawal.blockchain === 'eth' &&\n      withdrawal.txid &&\n      !withdrawal.txid.startsWith('0x') &&\n      withdrawal.txData\n    ) {\n      withdrawEth(ethAccount, withdrawal, callAsync);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [withdrawal.txid, withdrawal.status]);\n  return null;\n}\n","import { DialogContentText } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport { Title } from \"../pages/commonStyles\";\nimport { useConnection } from \"../utils/connection\";\nimport { priceStore, serumMarkets } from \"../utils/markets\";\n\nfunction FeeContentText({ ethFee, ethPrice, warning = false, prefix = \"\", bold = false, style = {} }) {\n  let usdFeeEstimate = ethPrice !== undefined ? ethPrice * ethFee : null;\n\n  return (\n    <Title\n      color={warning ? 'secondary' : 'textPrimary'}\n      // @ts-ignore\n      style={{ marginBottom: '0px', fontWeight: bold ? '500' : undefined, ...style }}\n    >\n      {prefix}\n      {ethFee.toFixed(4)}\n      {' ETH'}\n      {usdFeeEstimate && ` (${usdFeeEstimate.toFixed(2)} USD)`}\n    </Title>\n  );\n}\n\nexport function EthFeeEstimate({ ethFeeData, insufficientEthBalance }) {\n  let [ethFeeEstimate, loaded, error] = ethFeeData;\n  const [ethPrice, setEthPrice] = useState<number | undefined |null>(undefined);\n  const connection = useConnection();\n  useEffect(() => {\n    if (ethPrice === undefined) {\n      let m = serumMarkets['ETH'];\n      priceStore.getPrice(connection, m.name).then(setEthPrice);\n    }\n  }, [ethPrice, connection]);\n\n  if (!loaded && !error) {\n    return (\n      <DialogContentText color=\"textPrimary\">Loading...</DialogContentText>\n    );\n  } else if (error) {\n    return (\n      <DialogContentText color=\"textPrimary\">\n        Unable to estimate\n      </DialogContentText>\n    );\n  }\n\n  if (Array.isArray(ethFeeEstimate)) {\n    const [approveFee, swapFee] = ethFeeEstimate;\n    return (\n      <DialogContentText>\n        <FeeContentText ethFee={approveFee} ethPrice={ethPrice} prefix={\"Approve: \"} />\n        <FeeContentText style={{ margin: '0 1rem'}} ethFee={swapFee} ethPrice={ethPrice} prefix={\"Swap: \"} />\n        <FeeContentText\n          warning={insufficientEthBalance}\n          ethFee={approveFee + swapFee}\n          ethPrice={ethPrice}\n          prefix={\"Total: \"}\n          bold\n        />\n      </DialogContentText>\n    );\n  }\n\n  return (\n    <FeeContentText\n      warning={insufficientEthBalance}\n      ethFee={ethFeeEstimate}\n      ethPrice={ethPrice}\n    />\n  );\n}","import React, { useState } from 'react';\nimport DialogForm from './DialogForm';\nimport {\n  useIsProdNetwork,\n  useSolanaExplorerUrlSuffix,\n} from '../../../utils/connection';\nimport { useAsyncData } from '../../../utils/fetch-loop';\nimport { abbreviateAddress } from '../../../utils/utils';\nimport tuple from 'immutable-tuple';\nimport { useCallAsync } from '../../../utils/notifications';\nimport {\n  ConnectToMetamaskButton,\n  getErc20Balance,\n  swapErc20ToSpl,\n  useEthAccount,\n  estimateErc20SwapFees,\n} from '../../../utils/swap/eth';\nimport { showSwapAddress } from '../../../utils/config';\n\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Link from '@material-ui/core/Link';\nimport { useTheme } from '@material-ui/core';\nimport { EthFeeEstimate } from '../../../components/EthFeeEstimate';\nimport { useBalanceInfo } from '../../../utils/wallet';\nimport { swapApiRequest } from '../../../utils/swap/api';\nimport {\n  RowContainer,\n  Title,\n  VioletButton,\n  WhiteButton,\n} from '../../commonStyles';\nimport { InputWithMax, TextareaWithCopy } from '../../../components/Input';\nimport AttentionComponent from '../../../components/Attention';\nimport {\n  // StyledTab, StyledTabs,\n  StyledStepLabel,\n} from '../styles';\n\nimport MetamaskIcon from '../../../images/metamask.png';\nimport FakeInputs from '../../../components/FakeInputs';\n\nexport default function DepositDialog({ open, onClose, publicKey }) {\n  const balanceInfo = useBalanceInfo(publicKey) || {\n    amount: 0,\n    decimals: 8,\n    mint: null,\n    tokenName: 'Loading...',\n    tokenSymbol: '--',\n    owner: null,\n  };\n  const isProdNetwork = useIsProdNetwork();\n  const [swapInfo] = useAsyncData(async () => {\n    if (!showSwapAddress || !isProdNetwork) {\n      return null;\n    }\n    return await swapApiRequest(\n      'POST',\n      'swap_to',\n      {\n        blockchain: 'sol',\n        coin: balanceInfo.mint?.toBase58(),\n        address: publicKey?.toBase58(),\n      },\n      { ignoreUserErrors: true },\n    );\n  }, [\n    'swapInfo',\n    isProdNetwork,\n    balanceInfo.mint?.toBase58(),\n    publicKey?.toBase58(),\n  ]);\n\n  const ethAccount = useEthAccount();\n  const urlSuffix = useSolanaExplorerUrlSuffix();\n  const { mint, tokenSymbol, owner } = balanceInfo;\n  const [tab, setTab] = useState(0);\n  const theme = useTheme();\n  const tokenSymbolForCheck =\n    (tokenSymbol ?? abbreviateAddress(mint)) === 'wUSDT' ||\n    (tokenSymbol ?? abbreviateAddress(mint)) === 'wUSDC'\n      ? (tokenSymbol ?? abbreviateAddress(mint)).replace('w', 'Wrapped ')\n      : tokenSymbol ?? abbreviateAddress(mint);\n\n  let firstTab;\n  // let secondTab;\n\n  if (swapInfo) {\n    firstTab = `Deposit SPL ${tokenSymbolForCheck}`;\n    // secondTab = !mint\n    //   ? `Convert ${swapInfo.coin.ticker} to SOL`\n    //   : swapInfo.coin.ticker;\n    if (!mint) {\n      firstTab = 'Deposit SOL';\n    } else {\n      // secondTab = ` Convert ${\n      //   swapInfo.coin.erc20Contract ? 'ERC20' : 'Native'\n      // } ${secondTab} to SOL`;\n    }\n  } else {\n    firstTab = `Deposit SPL ${tokenSymbolForCheck}`;\n  }\n\n  return (\n    <DialogForm\n      open={open}\n      onClose={onClose}\n      height={'auto'}\n      padding={'2rem 0'}\n      onEnter={() => {\n        setTab(0);\n      }}\n    >\n      <FakeInputs />\n\n      {/* <RowContainer padding=\"1.6rem 0 2.4rem 0\">\n        <StyledTabs\n          theme={theme}\n          value={tab}\n          variant=\"fullWidth\"\n          onChange={(e, value) => setTab(value)}\n        >\n          <StyledTab theme={theme} label={firstTab} />\n          {swapInfo && <StyledTab theme={theme} label={secondTab} />}\n        </StyledTabs>\n      </RowContainer> */}\n\n      <RowContainer padding=\"1.6rem 0 2.4rem 0\">\n        <Title fontSize=\"1.6rem\">{firstTab}</Title>\n      </RowContainer>\n\n      <RowContainer direction=\"column\" padding=\"0\">\n        {tab === 0 ? (\n          <>\n            <RowContainer width=\"90%\">\n              {/* TODO: add qr code */}\n              {/* <CopyableDisplay\n              value={publicKey?.toBase58()}\n              label={'Deposit Address'}\n              autoFocus\n              qrCode\n            /> */}\n              <TextareaWithCopy value={publicKey?.toBase58()} height={'5rem'} />\n            </RowContainer>\n            <RowContainer\n              width=\"90%\"\n              justify=\"flex-start\"\n              padding=\"1rem 0 0 1.6rem\"\n            >\n              <Link\n                href={\n                  `https://explorer.solana.com/account/${publicKey?.toBase58()}` +\n                  urlSuffix\n                }\n                target=\"_blank\"\n                rel=\"noopener\"\n                style={{\n                  color: theme.customPalette.blue.serum,\n                  fontSize: '1rem',\n                  fontFamily: 'Avenir Next Demi',\n                }}\n              >\n                View on Solana Explorer\n              </Link>\n            </RowContainer>\n            <RowContainer width=\"90%\" padding=\"2rem 0\">\n              <AttentionComponent\n                text={\n                  !!owner && publicKey?.equals(owner)\n                    ? 'This address can only be used to receive SOL. Do not send other tokens to this address.'\n                    : `This address can only be used to receive ${tokenSymbolForCheck} in Solana Network. Do not send SOL${\n                        tokenSymbolForCheck === 'wUSDT' ||\n                        tokenSymbolForCheck === 'wUSDC'\n                          ? `, Native ${tokenSymbolForCheck.replace(\n                              'Wrapped ',\n                              '',\n                            )}`\n                          : ''\n                      } or ERC-20 ${tokenSymbolForCheck} to this address.`\n                }\n                blockHeight={'8rem'}\n                iconStyle={{ margin: '0 2rem 0 3rem' }}\n                textStyle={{\n                  fontSize: '1.4rem',\n                }}\n              />\n            </RowContainer>\n          </>\n        ) : (\n          <SolletSwapDepositAddress\n            balanceInfo={balanceInfo}\n            swapInfo={swapInfo}\n            ethAccount={ethAccount}\n            onClose={onClose}\n            publicKey={publicKey}\n          />\n        )}\n      </RowContainer>\n      {tab === 0 && (\n        <RowContainer margin=\"2rem 0 0 0\">\n          <WhiteButton theme={theme} width={'calc(50%)'} onClick={onClose}>\n            Close\n          </WhiteButton>\n        </RowContainer>\n      )}\n    </DialogForm>\n  );\n}\n\nfunction SolletSwapDepositAddress({\n  balanceInfo,\n  swapInfo,\n  ethAccount,\n  onClose,\n  publicKey,\n}) {\n  const theme = useTheme();\n  const [ethBalance] = useAsyncData(\n    () => getErc20Balance(ethAccount),\n    'ethBalance',\n    {\n      refreshInterval: 2000,\n    },\n  );\n\n  const ethFeeData = useAsyncData(\n    swapInfo?.coin &&\n      (() =>\n        estimateErc20SwapFees({\n          erc20Address: swapInfo.coin.erc20Contract,\n          swapAddress: swapInfo.address,\n          ethAccount,\n        })),\n    'depositEthFee',\n    {\n      refreshInterval: 2000,\n    },\n  );\n\n  if (!swapInfo) {\n    return null;\n  }\n\n  const ethFeeEstimate = Array.isArray(ethFeeData[0])\n    ? ethFeeData[0].reduce((acc, elem) => acc + elem)\n    : ethFeeData[0];\n  const insufficientEthBalance =\n    typeof ethBalance === 'number' &&\n    typeof ethFeeEstimate === 'number' &&\n    ethBalance < ethFeeEstimate;\n\n  const { blockchain, address, memo, coin } = swapInfo;\n  const { mint, tokenName, owner, tokenSymbol } = balanceInfo;\n\n  if (blockchain === 'btc' && memo === null) {\n    return (\n      <RowContainer direction=\"column\" width=\"90%\">\n        <Title style={{ marginBottom: '2rem' }}>\n          Native BTC can be converted to SPL {tokenName} by sending it to the\n          following address:\n        </Title>\n        <TextareaWithCopy\n          value={address}\n          height=\"5rem\"\n          // qrCode={`bitcoin:${address}`}\n        />\n        <RowContainer padding=\"2rem 0\">\n          <AttentionComponent\n            text={\n              !!owner && publicKey?.equals(owner)\n                ? 'This address can only be used to receive SOL. Do not send other tokens to this address.'\n                : `This address can only be used to receive ${\n                    tokenSymbol ?? abbreviateAddress(mint)\n                  }. Do not send SOL to this address.`\n            }\n            blockHeight={'8rem'}\n            iconStyle={{ margin: '0 2rem 0 3rem' }}\n            textStyle={{\n              fontSize: '1.4rem',\n            }}\n          />\n        </RowContainer>\n        <RowContainer margin=\"2rem 0 0 0\">\n          <WhiteButton theme={theme} width={'calc(50%)'} onClick={onClose}>\n            Close\n          </WhiteButton>\n        </RowContainer>\n      </RowContainer>\n    );\n  }\n\n  if (blockchain === 'eth') {\n    return (\n      <RowContainer width=\"90%\" direction=\"column\">\n        <Title fontSize=\"1.4rem\" fontFamily=\"Avenir Next Demi\">\n          {coin.erc20Contract ? 'ERC20' : 'Native'} {coin.ticker} can be\n          converted to {mint ? 'SPL' : 'native'} {tokenName} via MetaMask.\n        </Title>\n        {!ethAccount && (\n          <Title\n            fontSize=\"1.4rem\"\n            fontFamily=\"Avenir Next Demi\"\n            style={{ padding: '1rem 0' }}\n          >\n            To convert, you must already have SOL in your wallet\n          </Title>\n        )}\n        <RowContainer>\n          <Title fontSize=\"1.4rem\" fontFamily=\"Avenir Next Demi\">\n            Estimated withdrawal transaction fee: {'  '}\n            <EthFeeEstimate\n              ethFeeData={ethFeeData}\n              insufficientEthBalance={insufficientEthBalance}\n            />\n          </Title>\n        </RowContainer>\n        {!ethAccount && (\n          <RowContainer margin=\"2rem 0\">\n            <img src={MetamaskIcon} alt=\"metamask\" />\n          </RowContainer>\n        )}\n        <MetamaskDeposit\n          swapInfo={swapInfo}\n          onClose={onClose}\n          insufficientEthBalance={insufficientEthBalance}\n        />\n      </RowContainer>\n    );\n  }\n\n  return null;\n}\n\nfunction MetamaskDeposit({ swapInfo, insufficientEthBalance, onClose }) {\n  const ethAccount = useEthAccount();\n  const [amount, setAmount] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  const [status, setStatus] = useState<{\n    step: number;\n    confirms: number;\n    txid: string;\n  }>({ step: 0, confirms: 0, txid: '' });\n  const callAsync = useCallAsync();\n  const theme = useTheme();\n\n  const {\n    address: swapAddress,\n    memo: destination,\n    coin: { erc20Contract: erc20Address },\n  } = swapInfo;\n\n  const [maxAmount] = useAsyncData(async () => {\n    if (ethAccount) {\n      return Math.min(\n        await getErc20Balance(ethAccount, erc20Address),\n        swapInfo.maxSize ?? Infinity,\n      );\n    }\n    return 0;\n  }, tuple(getErc20Balance, ethAccount, erc20Address));\n\n  if (!ethAccount) {\n    return <ConnectToMetamaskButton />;\n  }\n\n  async function submit() {\n    setSubmitted(true);\n    setStatus({ step: 0, confirms: 0, txid: '' });\n    await callAsync(\n      (async () => {\n        let parsedAmount = parseFloat(amount);\n\n        if (\n          !parsedAmount ||\n          parsedAmount > Number(maxAmount) ||\n          parsedAmount <= 0\n        ) {\n          throw new Error('Invalid amount');\n        }\n        await swapErc20ToSpl({\n          ethAccount,\n          erc20Address,\n          swapAddress,\n          destination,\n          amount,\n          onStatusChange: (e) => setStatus((status) => ({ ...status, ...e })),\n        });\n      })(),\n      { onError: () => setSubmitted(false), onSuccess: () => {} },\n    );\n  }\n\n  if (!submitted) {\n    let convertButton = (\n      <VioletButton\n        theme={theme}\n        width={'calc(50% - .5rem)'}\n        onClick={submit}\n        disabled={insufficientEthBalance}\n      >\n        Convert\n      </VioletButton>\n    );\n\n    // if (insufficientEthBalance) {\n    //   convertButton = (\n    //     <Tooltip\n    //       title=\"Insufficient ETH for withdrawal transaction fee\"\n    //       placement=\"top\"\n    //     >\n    //       <span>{convertButton}</span>\n    //     </Tooltip>\n    //   );\n    // }\n\n    return (\n      <>\n        <RowContainer margin=\"1rem 0\">\n          {ethAccount && (\n            <>\n              <Title color={theme.customPalette.grey.dark} fontSize=\"1.2rem\">\n                <span style={{ fontFamily: 'Avenir Next Demi' }}>\n                  Metamask connected:\n                </span>{' '}\n                {ethAccount}\n              </Title>\n            </>\n          )}\n        </RowContainer>\n        <RowContainer width=\"90%\" padding=\"2rem 0\">\n          <AttentionComponent\n            text={`To convert ${swapInfo?.coin?.ticker} to SOL , your  SOL balance shouldn’t be empty.`}\n            blockHeight={'6rem'}\n            iconStyle={{ margin: '0 2rem 0 3rem', height: '2.5rem' }}\n            textStyle={{\n              fontSize: '1.4rem',\n            }}\n          />\n        </RowContainer>\n        <InputWithMax\n          value={amount}\n          maxText={`${Number(maxAmount).toFixed(6)} ${swapInfo?.coin?.ticker}`}\n          onChange={(e) => setAmount(e.target.value.trim())}\n          onMaxClick={() => setAmount(Number(maxAmount).toFixed(6))}\n          placeholder={'Amount'}\n          type={'text'}\n        />\n        {insufficientEthBalance && (\n          <RowContainer width=\"90%\" margin=\"2rem 0 0 0\">\n            <Title color={theme.customPalette.red.main}>\n              Insufficient {swapInfo?.coin?.ticker} for withdrawal transaction\n              fee\n            </Title>\n          </RowContainer>\n        )}\n        <RowContainer justify=\"space-between\" width=\"90%\" margin=\"2rem 0 0 0\">\n          <WhiteButton\n            theme={theme}\n            onClick={onClose}\n            width=\"calc(50% - .5rem)\"\n          >\n            Close\n          </WhiteButton>\n          {convertButton}\n        </RowContainer>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Stepper\n        activeStep={status.step}\n        style={{\n          marginTop: '2rem',\n          display: 'flex',\n          flexDirection: 'column',\n          fontSize: '1.4rem',\n          alignItems: 'flex-start',\n        }}\n      >\n        <Step style={{ margin: '1rem 0', fontSize: '1.4rem' }}>\n          <StyledStepLabel>Approve Conversion</StyledStepLabel>\n        </Step>\n        <Step style={{ margin: '1rem 0' }}>\n          <StyledStepLabel>Send Funds</StyledStepLabel>\n        </Step>\n        <Step style={{ margin: '1rem 0' }}>\n          <StyledStepLabel>Wait for Confirmations</StyledStepLabel>\n        </Step>\n      </Stepper>\n      {status.step === 2 ? (\n        <>\n          <RowContainer margin=\"2rem 0 0 0\">\n            <div style={{ marginRight: 16 }}>\n              <CircularProgress />\n            </div>\n            <div>\n              {status.confirms ? (\n                <Title>{status.confirms} / 12 Confirmations</Title>\n              ) : (\n                <Title>Transaction Pending</Title>\n              )}\n              <Title style={{ marginLeft: '2rem' }}>\n                <Link\n                  href={`https://etherscan.io/tx/${status.txid}`}\n                  target=\"_blank\"\n                  rel=\"noopener\"\n                >\n                  View on Etherscan\n                </Link>\n              </Title>\n            </div>\n          </RowContainer>\n        </>\n      ) : null}\n    </>\n  );\n}\n","export default \"data:image/png;base64,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\"","import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom'\n\nimport AccountInfo from './components/AccountInfo';\nimport AssetsTable from './components/AssetsTable';\nimport ActivityTable from './components/ActivityTable'\nimport SendDialog from './components/SendPopup';\nimport ReceiveDialog from './components/ReceivePopup';\nimport AddTokenDialog from './components/AddTokenPopup';\n\nimport { RowContainer } from '../commonStyles';\n\nconst Wallet = () => {\n  const [selectedPublicKey, selectPublicKey] = useState<any>(null);\n  const [sendDialogOpen, setSendDialogOpen] = useState(false);\n  const [depositDialogOpen, setDepositDialogOpen] = useState(false);\n  const [showAddTokenDialog, setShowAddTokenDialog] = useState(false);\n\n  // const [tokenInfoDialogOpen, setTokenInfoDialogOpen] = useState(false);\n  // const [\n  //   closeTokenAccountDialogOpen,\n  //   setCloseTokenAccountDialogOpen,\n  // ] = useState(false);\n\n  console.log('wallet rerender')\n\n  return (\n    <RowContainer direction=\"column\" height=\"100%\" padding=\"0 3rem 3rem 3rem\">\n      {window.opener && <Redirect to={'/connect_popup'} />}\n\n      <AccountInfo />\n      <RowContainer style={{ maxHeight: '80%' }} height=\"100%\" justify=\"space-between\">\n        <AssetsTable\n          selectPublicKey={selectPublicKey}\n          setSendDialogOpen={setSendDialogOpen}\n          setDepositDialogOpen={setDepositDialogOpen}\n          setShowAddTokenDialog={setShowAddTokenDialog}\n        />\n        <ActivityTable />\n      </RowContainer>\n\n      <SendDialog\n        open={sendDialogOpen}\n        onClose={() => setSendDialogOpen(false)}\n        publicKey={selectedPublicKey}\n      />\n      <ReceiveDialog\n        open={depositDialogOpen}\n        onClose={() => setDepositDialogOpen(false)}\n        publicKey={selectedPublicKey}\n      />\n\n      <AddTokenDialog\n        open={showAddTokenDialog}\n        onClose={() => setShowAddTokenDialog(false)}\n      />\n\n      {/* \n      <TokenInfoDialog\n        open={tokenInfoDialogOpen}\n        onClose={() => setTokenInfoDialogOpen(false)}\n        publicKey={selectedPublicKey}\n      />\n      <CloseTokenAccountDialog\n        open={closeTokenAccountDialogOpen}\n        onClose={() => setCloseTokenAccountDialogOpen(false)}\n        publicKey={selectedPublicKey}\n      /> */}\n    </RowContainer>\n  );\n};\n\nexport default Wallet;\n","import * as React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Wallet from '../pages/Wallet';\nimport { useWallet } from '../utils/wallet';\nimport { hasLockedMnemonicAndSeed } from '../utils/wallet-seed';\n\nexport default function LoginRoutes({ match, location }) {\n  const wallet = useWallet();\n  return (\n    <Switch>\n      {!wallet ? (\n        hasLockedMnemonicAndSeed() ? (\n          <Redirect to=\"/welcome_back\" />\n        ) : (\n          <Redirect to=\"/welcome\" />\n        )\n      ) : null}\n      <Route path={match.url} component={Wallet} />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}